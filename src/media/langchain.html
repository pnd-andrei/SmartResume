<!DOCTYPE html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-concepts" data-has-hydrated="true" data-theme="dark" data-announcement-bar-initially-dismissed="false" data-rh="lang,dir,class,data-has-hydrated"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title>Conceptual guide | ğŸ¦œï¸ğŸ”— LangChain</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://python.langchain.com/v0.2/img/brand/theme-image.png"><meta data-rh="true" name="twitter:image" content="https://python.langchain.com/v0.2/img/brand/theme-image.png"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><link data-rh="true" rel="icon" href="https://python.langchain.com/v0.2/img/brand/favicon.png"><link data-rh="true" rel="preconnect" href="https://vau016laws-dsn.algolia.net/" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="ğŸ¦œï¸ğŸ”— LangChain" href="https://python.langchain.com/v0.2/opensearch.xml">


<script src="langchain_files/google_analytics.js"></script>
<script src="langchain_files/js" async=""></script><link rel="stylesheet" href="langchain_files/styles.b527200c.css">
<link rel="preload" href="langchain_files/runtime~main.752f3e4d.js" as="script">
<link rel="preload" href="langchain_files/main.f55529a1.js" as="script">
<meta name="viewport" content="width=device-width, initial-scale=1.0" data-rh="true"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0a473a20.8aa5fac9.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e323e2ce.b4f076fb.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/a65f7afd.b3811461.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/3278dee7.6754835e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fb08110b.1e8a5b95.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/11be143e.9999b8b0.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c4f5d8e4.5fda4a32.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8f412c95.f37ecd57.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fbe3ff9a.7795aaa8.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2dd787d7.10c6dd34.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/972d9d57.5dab6885.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/b0affd4d.9df164a1.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/db32d859.39987f1b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/066f2a39.b2d96944.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/673b2081.4d0bf99e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/28300937.930ff811.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8e75eae7.55b7279e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/33d9721b.9e57b2d3.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/14eb3368.20f440ad.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/7b6578c9.8d04873b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/d0fc3244.b58c8fc6.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/b6b2b7c2.63bdf5a1.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2c5f8a67.4b0e002c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/707bd12c.837fc68e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5f76d759.8be0166f.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/bed8b038.29e8340e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c1673939.2c437af2.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6ce207ab.9a1b8c98.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/65a4b783.4c3749b2.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/aa9ea76a.994beba9.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/cfed824a.4ce9f26b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/a000346b.4c4e3805.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8bfe51ea.745423b4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4cfaff6d.b16c9ca4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ec227d73.bce3d80e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1d1b46e6.fa7478bd.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/9f307ce3.6f6d5c18.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6dde49e9.db0bc96e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/a9f0b6a8.75cf1f7b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8a0c9371.dfd23986.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5f0c68f7.1b502b4b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/d7fc2157.458bab2a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e33d7e01.c6e65707.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/49b0cb37.0c1a62a6.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/89a32df1.869018b1.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5e741172.dbca4d9a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/3206e90e.9e6e6889.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/03fc3ebb.83a7a88a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8989f592.98616422.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/76c46872.172b3914.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/69a3243d.840ed477.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/9fb6d99b.b7e70c00.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e7cdc032.6cce43d4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/a2fc305c.3ff3aa3b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/51b743f1.46fecc52.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/722cb41a.8ed071a8.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/86d8f559.6cfaf508.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/eaec015e.9a732852.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/564444a0.54c1e426.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/38dd6a2e.d486f72d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/25547717.b54d5716.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/83a71578.e4fc20b1.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/164accd6.c0eb0e2c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0715dde7.57c20348.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/3bcd7d83.0451cc5a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6a2f1763.74a2a9e5.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/d380a48b.072213c2.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/96ff07cf.c84d6065.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1e8a946a.96ad5332.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fdd9ef9b.f7de169b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fb59ae25.7950faf8.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/eb1b0251.6d09b774.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/14eb3368.20f440ad.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c09f4842.4df77247.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e77283bf.34c24758.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/cef7e1ca.60d2c6c5.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1cd7da9c.701f4eaf.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2f1b05a3.0c2e349b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ac545f53.fd3a26cb.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c30050ee.aa2173dc.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/473bc9a9.f20c0ae8.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/02c0b515.fe8e02fb.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0df978f5.ee5e6f7f.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6ef22db2.3e0f0e7a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/f83fd2eb.70476fac.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8d413681.8ebca76a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/901bb8ca.acfd61bc.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/52f74406.6e8dd167.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fa90c5ad.d4a17e5a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/71399405.d6f09a17.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1302a538.e2f83dc0.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0e6251cb.5a209483.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/de076b6b.068336c8.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/58d468ed.98c459b7.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/94b85e9c.4ff181f4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/f51178ee.60d3e8dc.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/b812b1f1.e9e8b2e5.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/cdcf7838.d147fdbd.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/10d6cf26.0084f273.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/bbd6b07a.c3a2f61e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c061754d.a5276e18.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/39c78984.7fcfaa3e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e22283e1.a69cbe81.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4b0ef622.aa7972d4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/d516e0b7.c4d7b0e7.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/029ca7bd.006e4621.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0e88cd7b.44e510d2.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4eb1b170.78e5bf2f.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/da22e049.8544d1dc.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2f5a5403.9b0635ae.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4d35aa64.765e859d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c66b683e.8d8201e4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/219a290c.d3774760.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/a08ef29d.98a3fb06.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0822286e.7ad89f18.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/618462f3.6be4455a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/edca7b2a.8e58ba16.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/da124119.f7649999.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/28377409.c74b85a4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/86198e46.84289677.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6318e6cc.4ea67646.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/56e7af1e.b3ea97d3.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/8ad7aac5.fb07d979.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/60c5fafb.cb553c60.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/19998e50.1e2c2897.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ad1c62a1.7d9bdfb4.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1efb0a2d.140f4833.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/dbbf78f8.2253422c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c48055d3.2d52340b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/fbe86cd1.c90d30d2.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0c53cc28.b7048882.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/506124e6.810e1cb9.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/10a68173.7b7fa65a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/38f1d02e.fbc20152.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2d1354fd.219d8187.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6b9e64e2.a3274464.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/eaf71e44.f2acfe60.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ca71aed8.d784eaee.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/07d60859.3bfa51be.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/f4c55f30.db01570d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e7dde360.c12623ae.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c3ffaa08.b9f91212.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/25d12fe0.f9ba1d03.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/b6a90bc2.73594044.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2a570cb3.af6a1c00.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/adbbef3a.45388e74.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1a930aa2.fe105b9b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/086a9e83.76b5a83f.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d24fdb3.b48020d9.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/23255d78.ec76fdb7.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/861d818a.432dbc1c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5861a877.2f5214a6.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/2e5b0339.45bea327.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/aefc6f58.78d65184.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1b1a3d1b.daa81b91.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5d2078af.95a031cc.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ad3fccee.528637c6.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/5a52ce3a.ac93e16d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/76acd3cc.11c44dfb.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/3145e61f.b916dd53.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e495489c.c4adb9ed.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/e10aac3a.2bc6092a.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1cb575bf.1cd6646b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/73e6ff0f.34494076.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/ed405165.abd44187.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4f352f7c.902d0828.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/93604216.37f21e59.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/f76c6c74.7904d707.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/0ea7ea95.4083ad3c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/93916b12.05346182.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/7704b93d.3e158d3b.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/c4c9f90e.57d4f98c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/4362a1db.2532b24e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/7e3f9bd3.10f9ba9e.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/7caa7331.545bb913.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/17896441.da0285fe.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1776c33e.414f382c.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/1be78505.4d291b3d.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/6d790c2a.ea0d19ca.js"><link rel="prefetch" href="https://python.langchain.com/v0.2/assets/js/935f2afb.e280ef76.js"><link rel="canonical" href="https://python.langchain.com/v0.2/docs/concepts/" data-rh="true"><link rel="alternate" href="https://python.langchain.com/v0.2/docs/concepts/" hreflang="en" data-rh="true"><link rel="alternate" href="https://python.langchain.com/v0.2/docs/concepts/" hreflang="x-default" data-rh="true"><meta property="og:url" content="https://python.langchain.com/v0.2/docs/concepts/" data-rh="true"><meta property="og:title" content="Conceptual guide | ğŸ¦œï¸ğŸ”— LangChain" data-rh="true"><meta name="description" content="This section contains introductions to key parts of LangChain." data-rh="true"><meta property="og:description" content="This section contains introductions to key parts of LangChain." data-rh="true"></head>
<body class="" data-rh="class" style="overflow: visible;">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">LangChain 0.2 is out! Leave feedback on the v0.2 docs <a href="https://github.com/langchain-ai/langchain/discussions/21716">here</a>. You can view the v0.1 docs <a href="https://python.langchain.com/v0.1/docs/get_started/introduction/">here</a>.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="https://python.langchain.com/v0.2/"><div class="navbar__logo"><img src="langchain_files/wordmark-dark.png" alt="ğŸ¦œï¸ğŸ”— LangChain" class="themedImage_ToTc themedImage--dark_i4oU"></div></a><a class="navbar__item navbar__link" href="https://python.langchain.com/v0.2/docs/integrations/platforms/">Integrations</a><a href="https://api.python.langchain.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/people/">People</a></li><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/contributing/">Contributing</a></li><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/templates/">Templates</a></li><li><a href="https://github.com/langchain-ai/langchain/blob/master/cookbook/README.md" target="_blank" rel="noopener noreferrer" class="dropdown__link">Cookbooks<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/additional_resources/tutorials/">3rd party tutorials</a></li><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/additional_resources/youtube/">YouTube</a></li><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/additional_resources/arxiv_references/">arXiv</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">v0.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="https://python.langchain.com/v0.2/docs/introduction/">v0.2</a></li><li><a href="https://python.langchain.com/v0.1/docs/get_started/introduction" target="_blank" rel="noopener noreferrer" class="dropdown__link">v0.1<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">ğŸ¦œï¸ğŸ”—</a><ul class="dropdown__menu"><li><a href="https://smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangSmith<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangSmith Docs<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/langchain-ai/langchain/tree/master/templates" target="_blank" rel="noopener noreferrer" class="dropdown__link">Templates GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://templates.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Templates Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://smith.langchain.com/hub" target="_blank" rel="noopener noreferrer" class="dropdown__link">LangChain Hub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://js.langchain.com/" target="_blank" rel="noopener noreferrer" class="dropdown__link">JS/TS Docs<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://chat.langchain.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ğŸ’¬<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP" type="button" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://python.langchain.com/v0.2/docs/introduction/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="https://python.langchain.com/v0.2/docs/tutorials/">Tutorials</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/graph/">Build a Question Answering application over a Graph Database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/llm_chain/">Build a Simple LLM Application with LCEL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/query_analysis/">Build a Query Analysis System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/chatbot/">Build a Chatbot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/qa_chat_history/">Conversational RAG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/extraction/">Build an Extraction Chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/agents/">Build an Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/classification/">Tagging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/data_generation/">data_generation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/local_rag/">Build a Local RAG Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/pdf_qa/">Build a PDF ingestion and Question/Answering system</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/rag/">Build a Retrieval Augmented Generation (RAG) App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/retrievers/">Vector stores and retrievers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/sql_qa/">Build a Question/Answering system over SQL data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/tutorials/summarization/">Summarize Text</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" href="https://python.langchain.com/v0.2/docs/how_to/">How-to guides</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/">How-to guides</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_chain/">How to use tools in a chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/vectorstore_retriever/">How to use a vectorstore as a retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chatbots_memory/">How to add memory to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/example_selectors/">How to use example selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/graph_mapping/">How to map values to a graph database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/graph_semantic/">How to add a semantic layer over graph database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/parallel/">How to invoke runnables in parallel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chat_streaming/">How to stream chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/binding/">How to add default invocation args to a Runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chatbots_retrieval/">How to add retrieval to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/few_shot_examples_chat/">How to use few shot examples in chat models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/function_calling/">How to do tool/function calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/graph_prompting/">How to best prompt for Graph-RAG</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/installation/">How to install LangChain packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_few_shot/">How to add examples to the prompt for query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/few_shot_examples/">How to use few shot examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/functions/">How to run custom functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_structured/">How to use output parsers to parse an LLM response into structured format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_no_queries/">How to handle cases where no queries are generated</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/routing/">How to route between sub-chains</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/structured_output/">How to return structured data from a model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/toolkits/">How to use toolkits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_prompting/">How to add ad-hoc tool calling capability to LLMs and Chat Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/agent_executor/">Build an Agent with AgentExecutor (Legacy)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/graph_constructing/">How to construct knowledge graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/prompts_partial/">How to partially format prompt templates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_multiple_queries/">How to handle multiple queries when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_builtin/">How to use built-in tools and toolkits</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/passthrough/">How to pass through arguments from one step to the next</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/prompts_composition/">How to compose prompts together</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_multiple_retrievers/">How to handle multiple retrievers when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/assign/">How to add values to a chain's state</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_constructing_filters/">How to construct filters for query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/configure/">How to configure runtime chain internals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/query_high_cardinality/">How deal with high cardinality categoricals when doing query analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_custom/">Custom Document Loader</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/HTML_header_metadata_splitter/">How to split by HTML header</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/HTML_section_aware_splitter/">How to split by HTML sections</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/MultiQueryRetriever/">How to use the MultiQueryRetriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/add_scores_retriever/">How to add scores to retriever results</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/caching_embeddings/">Caching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/callbacks_async/">How to use callbacks in async environments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/callbacks_attach/">How to attach callbacks to a runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/callbacks_constructor/">How to propagate callbacks  constructor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/callbacks_runtime/">How to pass callbacks in at runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/character_text_splitter/">How to split by character</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chat_model_caching/">How to cache chat model responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chat_models_universal_init/">How to init any model in one line</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chat_token_usage_tracking/">How to track token usage in ChatModels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/chatbots_tools/">How to add tools to chatbots</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/code_splitter/">How to split code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/contextual_compression/">How to do retrieval with contextual compression</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/custom_callbacks/">How to create custom callback handlers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/custom_chat_model/">How to create a custom chat model class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/custom_llm/">How to create a custom LLM class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/custom_retriever/">Custom Retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/custom_tools/">How to create custom tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/debugging/">How to debug your LLM apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_csv/">How to load CSVs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_directory/">How to load documents from a directory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_html/">How to load HTML</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_json/">How to load JSON</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_markdown/">How to load Markdown</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_office_file/">How to load Microsoft Office files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/document_loader_pdf/">How to load PDFs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/dynamic_chain/">How to create a dynamic (self-constructing) chain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/embed_text/">Text embedding models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/ensemble_retriever/">How to combine results from multiple retrievers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/example_selectors_length_based/">How to select examples by length</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/example_selectors_mmr/">How to select examples by maximal marginal relevance (MMR)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/example_selectors_ngram/">How to select examples by n-gram overlap</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/example_selectors_similarity/">How to select examples by similarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/extraction_examples/">How to use reference examples when doing extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/extraction_long_text/">How to handle long text when doing extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/extraction_parse/">How to use prompting alone (no tool calling) to do extraction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/fallbacks/">How to add fallbacks to a runnable</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/filter_messages/">How to filter messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/hybrid/">Hybrid Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/indexing/">How to use the LangChain indexing API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/inspect/">How to inspect runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/lcel_cheatsheet/">LangChain Expression Language Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/llm_caching/">How to cache LLM responses</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/llm_token_usage_tracking/">How to track token usage for LLMs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/local_llms/">Run LLMs locally</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/logprobs/">How to get log probabilities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/long_context_reorder/">How to reorder retrieved results to mitigate the "lost in the middle" effect</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/markdown_header_metadata_splitter/">How to split Markdown by Headers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/merge_message_runs/">How to merge consecutive messages of the same type</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/message_history/">How to add message history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/migrate_agent/">How to migrate from legacy LangChain agents to LangGraph</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/multi_vector/">How to retrieve using multiple vectors per document</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/multimodal_inputs/">How to pass multimodal data directly to models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/multimodal_prompts/">How to use multimodal prompts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_custom/">How to create a custom Output Parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_fixing/">How to use the output-fixing parser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_json/">How to parse JSON output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_retry/">How to retry when a parsing error occurs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_xml/">How to parse XML output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/output_parser_yaml/">How to parse YAML output</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/parent_document_retriever/">How to use the Parent Document Retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/pydantic_compatibility/">How to use LangChain with different Pydantic versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/qa_chat_history_how_to/">How to add chat history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/qa_citations/">How to get a RAG application to add citations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/qa_per_user/">How to do per-user retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/qa_sources/">How to get your RAG application to return sources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/qa_streaming/">How to stream results from your RAG application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/recursive_json_splitter/">How to split JSON data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/recursive_text_splitter/">How to recursively split text by characters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/response_metadata/">Response metadata</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/self_query/">How to do "self-querying" retrieval</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/semantic-chunker/">How to split text based on semantic similarity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/sequence/">How to chain runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/serialization/">How to save and load LangChain objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/split_by_token/">How to split text by tokens</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/sql_csv/">How to do question answering over CSVs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/sql_large_db/">How to deal with large databases when doing SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/sql_prompting/">How to better prompt when doing SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/sql_query_checking/">How to do query validation as part of SQL question-answering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/streaming/">How to stream runnables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/streaming_llm/">How to stream responses from an LLM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/time_weighted_vectorstore/">How to use a time-weighted vector store retriever</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_calling/">How to use a model to call tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_calling_parallel/">tool_calling_parallel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_choice/">How to force tool calling behavior</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_results_pass_to_model/">How to pass tool outputs to the model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_runtime/">How to pass run time values to a tool</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tool_streaming/">How to stream tool calls</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_as_openai_functions/">How to convert tools to OpenAI Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_error/">How to handle tool errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_few_shot/">How to use few-shot prompting with tool calling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_human/">How to add a human-in-the-loop for tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/tools_model_specific/">How to bind model-specific tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/trim_messages/">How to trim messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/how_to/vectorstores/">How to create and query vector stores</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" href="https://python.langchain.com/v0.2/docs/concepts/" aria-current="page">Conceptual guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Ecosystem</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">ğŸ¦œğŸ› ï¸ LangSmith<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noopener noreferrer" class="menu__link menuExternalLink_NmtK" tabindex="0">ğŸ¦œğŸ•¸ï¸ LangGraph<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Versions</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/overview/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/release_policy/">Release Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/packages/">Packages</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/v0_2/">v0.2</a></div><ul class="menu__list" style="display: block; overflow: visible; height: auto;"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/v0_2/">LangChain v0.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/v0_2/migrating_astream_events/">astream_events v2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item hidden"><a class="menu__link" tabindex="0" href="https://python.langchain.com/v0.2/docs/versions/v0_2/deprecations/">Changes</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="https://python.langchain.com/v0.2/docs/security/">Security</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="https://python.langchain.com/v0.2/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Conceptual guide</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Conceptual guide</h1><p>This section contains introductions to key parts of LangChain.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">â€‹</a></h2><p>LangChain as a framework consists of a number of packages.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchain-core"><code>langchain-core</code><a href="#langchain-core" class="hash-link" aria-label="Direct link to langchain-core" title="Direct link to langchain-core">â€‹</a></h3><p>This package contains base abstractions of different components and ways to compose them together.
The interfaces for core components like LLMs, vector stores, retrievers and more are defined here.
No third party integrations are defined here.
The dependencies are kept purposefully very lightweight.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="partner-packages">Partner packages<a href="#partner-packages" class="hash-link" aria-label="Direct link to Partner packages" title="Direct link to Partner packages">â€‹</a></h3><p>While the long tail of integrations are in <code>langchain-community</code>, we split popular integrations into their own packages (e.g. <code>langchain-openai</code>, <code>langchain-anthropic</code>, etc).
This was done in order to improve support for these important integrations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchain"><code>langchain</code><a href="#langchain" class="hash-link" aria-label="Direct link to langchain" title="Direct link to langchain">â€‹</a></h3><p>The main <code>langchain</code>
 package contains chains, agents, and retrieval strategies that make up 
an application's cognitive architecture.
These are NOT third party integrations.
All chains, agents, and retrieval strategies here are NOT specific to 
any one integration, but rather generic across all integrations.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langchain-community"><code>langchain-community</code><a href="#langchain-community" class="hash-link" aria-label="Direct link to langchain-community" title="Direct link to langchain-community">â€‹</a></h3><p>This package contains third party integrations that are maintained by the LangChain community.
Key partner packages are separated out (see below).
This contains all integrations for various components (LLMs, vector stores, retrievers).
All dependencies in this package are optional to keep the package as lightweight as possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langgraph"><a href="https://langchain-ai.github.io/langgraph" target="_blank" rel="noopener noreferrer"><code>langgraph</code></a><a href="#langgraph" class="hash-link" aria-label="Direct link to langgraph" title="Direct link to langgraph">â€‹</a></h3><p><code>langgraph</code> is an extension of <code>langchain</code> aimed at
building robust and stateful multi-actor applications with LLMs by modeling steps as edges and nodes in a graph.</p><p>LangGraph
 exposes high level interfaces for creating common types of agents, as 
well as a low-level API for composing custom flows.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langserve"><a href="https://python.langchain.com/v0.2/docs/langserve/"><code>langserve</code></a><a href="#langserve" class="hash-link" aria-label="Direct link to langserve" title="Direct link to langserve">â€‹</a></h3><p>A package to deploy LangChain chains as REST APIs. Makes it easy to get a production ready API up and running.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="langsmith"><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer">LangSmith</a><a href="#langsmith" class="hash-link" aria-label="Direct link to langsmith" title="Direct link to langsmith">â€‹</a></h3><p>A developer platform that lets you debug, test, evaluate, and monitor LLM applications.</p><img src="langchain_files/langchain_stack_062024_dark.svg" alt="Diagram outlining the hierarchical organization of the LangChain framework, displaying the interconnected parts across multiple layers." class="themedImage_ToTc themedImage--dark_i4oU" title="LangChain Framework Overview"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="langchain-expression-language-lcel">LangChain Expression Language (LCEL)<a href="#langchain-expression-language-lcel" class="hash-link" aria-label="Direct link to LangChain Expression Language (LCEL)" title="Direct link to LangChain Expression Language (LCEL)">â€‹</a></h2><span data-heading-keywords="lcel"></span><p>LangChain Expression Language, or LCEL, is a declarative way to chain LangChain components.
LCEL was designed from day 1 to <strong>support putting prototypes in production, with no code changes</strong>,
 from the simplest â€œprompt + LLMâ€ chain to the most complex chains 
(weâ€™ve seen folks successfully run LCEL chains with 100s of steps in 
production). To highlight a few of the reasons you might want to use 
LCEL:</p><p><strong>First-class streaming support</strong>
When you build your chains with LCEL you get the best possible 
time-to-first-token (time elapsed until the first chunk of output comes 
out). For some chains this means eg. we stream tokens straight from an 
LLM to a streaming output parser, and you get back parsed, incremental 
chunks of output at the same rate as the LLM provider outputs the raw 
tokens.</p><p><strong>Async support</strong>
Any chain built with LCEL can be called both with the synchronous API 
(eg. in your Jupyter notebook while prototyping) as well as with the 
asynchronous API (eg. in a <a href="https://python.langchain.com/v0.2/docs/langserve/">LangServe</a>
 server). This enables using the same code for prototypes and in 
production, with great performance, and the ability to handle many 
concurrent requests in the same server.</p><p><strong>Optimized parallel execution</strong>
Whenever your LCEL chains have steps that can be executed in parallel 
(eg if you fetch documents from multiple retrievers) we automatically do
 it, both in the sync and the async interfaces, for the smallest 
possible latency.</p><p><strong>Retries and fallbacks</strong>
Configure retries and fallbacks for any part of your LCEL chain. This is
 a great way to make your chains more reliable at scale. Weâ€™re currently
 working on adding streaming support for retries/fallbacks, so you can 
get the added reliability without any latency cost.</p><p><strong>Access intermediate results</strong>
For more complex chains itâ€™s often very useful to access the results of 
intermediate steps even before the final output is produced. This can be
 used to let end-users know something is happening, or even just to 
debug your chain. You can stream intermediate results, and itâ€™s 
available on every <a href="https://python.langchain.com/v0.2/docs/langserve/">LangServe</a> server.</p><p><strong>Input and output schemas</strong>
Input and output schemas give every LCEL chain Pydantic and JSONSchema 
schemas inferred from the structure of your chain. This can be used for 
validation of inputs and outputs, and is an integral part of LangServe.</p><p><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer"><strong>Seamless LangSmith tracing</strong></a>
As your chains get more and more complex, it becomes increasingly 
important to understand what exactly is happening at every step.
With LCEL, <strong>all</strong> steps are automatically logged to <a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer">LangSmith</a> for maximum observability and debuggability.</p><p><a href="https://python.langchain.com/v0.2/docs/langserve/"><strong>Seamless LangServe deployment</strong></a>
Any chain created with LCEL can be easily deployed using <a href="https://python.langchain.com/v0.2/docs/langserve/">LangServe</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="runnable-interface">Runnable interface<a href="#runnable-interface" class="hash-link" aria-label="Direct link to Runnable interface" title="Direct link to Runnable interface">â€‹</a></h3><span data-heading-keywords="invoke,runnable"></span><p>To make it as easy as possible to create custom chains, we've implemented a <a href="https://api.python.langchain.com/en/stable/runnables/langchain_core.runnables.base.Runnable.html#langchain_core.runnables.base.Runnable" target="_blank" rel="noopener noreferrer">"Runnable"</a> protocol. Many LangChain components implement the <code>Runnable</code>
 protocol, including chat models, LLMs, output parsers, retrievers, 
prompt templates, and more. There are also several useful primitives for
 working with runnables, which you can read about below.</p><p>This is a standard interface, which makes it easy to define custom chains as well as invoke them in a standard way.
The standard interface includes:</p><ul><li><code>stream</code>: stream back chunks of the response</li><li><code>invoke</code>: call the chain on an input</li><li><code>batch</code>: call the chain on a list of inputs</li></ul><p>These also have corresponding async methods that should be used with <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener noreferrer">asyncio</a> <code>await</code> syntax for concurrency:</p><ul><li><code>astream</code>: stream back chunks of the response async</li><li><code>ainvoke</code>: call the chain on an input async</li><li><code>abatch</code>: call the chain on a list of inputs async</li><li><code>astream_log</code>: stream back intermediate steps as they happen, in addition to the final response</li><li><code>astream_events</code>: <strong>beta</strong> stream events as they happen in the chain (introduced in <code>langchain-core</code> 0.1.14)</li></ul><p>The <strong>input type</strong> and <strong>output type</strong> varies by component:</p><table><thead><tr><th>Component</th><th>Input Type</th><th>Output Type</th></tr></thead><tbody><tr><td>Prompt</td><td>Dictionary</td><td>PromptValue</td></tr><tr><td>ChatModel</td><td>Single string, list of chat messages or a PromptValue</td><td>ChatMessage</td></tr><tr><td>LLM</td><td>Single string, list of chat messages or a PromptValue</td><td>String</td></tr><tr><td>OutputParser</td><td>The output of an LLM or ChatModel</td><td>Depends on the parser</td></tr><tr><td>Retriever</td><td>Single string</td><td>List of Documents</td></tr><tr><td>Tool</td><td>Single string or dictionary, depending on the tool</td><td>Depends on the tool</td></tr></tbody></table><p>All runnables expose input and output <strong>schemas</strong> to inspect the inputs and outputs:</p><ul><li><code>input_schema</code>: an input Pydantic model auto-generated from the structure of the Runnable</li><li><code>output_schema</code>: an output Pydantic model auto-generated from the structure of the Runnable</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="components">Components<a href="#components" class="hash-link" aria-label="Direct link to Components" title="Direct link to Components">â€‹</a></h2><p>LangChain
 provides standard, extendable interfaces and external integrations for 
various components useful for building with LLMs.
Some components LangChain implements, some components we rely on 
third-party integrations for, and others are a mix.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chat-models">Chat models<a href="#chat-models" class="hash-link" aria-label="Direct link to Chat models" title="Direct link to Chat models">â€‹</a></h3><span data-heading-keywords="chat model,chat models"></span><p>Language models that use a sequence of messages as inputs and return chat messages as outputs (as opposed to using plain text).
These are traditionally newer models (older models are generally <code>LLMs</code>,
 see below).
Chat models support the assignment of distinct roles to conversation 
messages, helping to distinguish messages from the AI, users, and 
instructions such as system messages.</p><p>Although the underlying 
models are messages in, message out, the LangChain wrappers also allow 
these models to take a string as input. This means you can easily use 
chat models in place of LLMs.</p><p>When a string is passed in as input, it is converted to a <code>HumanMessage</code> and then passed to the underlying model.</p><p>LangChain does not host any Chat Models, rather we rely on third party integrations.</p><p>We have some standardized parameters when constructing ChatModels:</p><ul><li><code>model</code>: the name of the model</li><li><code>temperature</code>: the sampling temperature</li><li><code>timeout</code>: request timeout</li><li><code>max_tokens</code>: max tokens to generate</li><li><code>stop</code>: default stop sequences</li><li><code>max_retries</code>: max number of times to retry requests</li><li><code>api_key</code>: API key for the model provider</li><li><code>base_url</code>: endpoint to send requests to</li></ul><p>Some important things to note:</p><ul><li>standard
 params only apply to model providers that expose parameters with the 
intended functionality. For example, some providers do not expose a 
configuration for maximum output tokens, so max_tokens can't be 
supported on these.</li><li>standard params are currently only enforced on integrations that have their own integration packages (e.g. <code>langchain-openai</code>, <code>langchain-anthropic</code>, etc.), they're not enforced on models in <code>langchain-community</code>.</li></ul><p>ChatModels
 also accept other parameters that are specific to that integration. To 
find all the parameters supported by a ChatModel head to the API 
reference for that model.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p><strong>Tool Calling</strong>
 Some chat models have been fine-tuned for tool calling and provide a 
dedicated API for tool calling.
Generally, such models are better at tool calling than non-fine-tuned 
models, and are recommended for use cases that require tool calling.
Please see the <a href="https://python.langchain.com/v0.2/docs/concepts/#functiontool-calling">tool calling section</a> for more information.</p></div></div><p>For specifics on how to use chat models, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#chat-models">relevant how-to guides here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="multimodality">Multimodality<a href="#multimodality" class="hash-link" aria-label="Direct link to Multimodality" title="Direct link to Multimodality">â€‹</a></h4><p>Some
 chat models are multimodal, accepting images, audio and even video as 
inputs. These are still less common, meaning model providers haven't 
standardized on the "best" way to define the API. Multimodal <strong>outputs</strong>
 are even less common. As such, we've kept our multimodal abstractions 
fairly light weight and plan to further solidify the multimodal APIs and
 interaction patterns as the field matures.</p><p>In LangChain, most 
chat models that support multimodal inputs also accept those values in 
OpenAI's content blocks format. So far this is restricted to image 
inputs. For models like Gemini which support video and other bytes 
input, the APIs also support the native, model-specific representations.</p><p>For specifics on how to use multimodal models, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#multimodal">relevant how-to guides here</a>.</p><p>For a full list of LangChain model providers with multimodal models, <a href="https://python.langchain.com/v0.2/docs/integrations/chat/#advanced-features">check out this table</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="llms">LLMs<a href="#llms" class="hash-link" aria-label="Direct link to LLMs" title="Direct link to LLMs">â€‹</a></h3><span data-heading-keywords="llm,llms"></span><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Pure text-in/text-out LLMs tend to be older or lower-level. Many popular models are best used as <a href="https://python.langchain.com/v0.2/docs/concepts/#chat-models">chat completion models</a>,
even for non-chat use cases.</p><p>You are probably looking for <a href="https://python.langchain.com/v0.2/docs/concepts/#chat-models">the section above instead</a>.</p></div></div><p>Language models that takes a string as input and returns a string.
These are traditionally older models (newer models generally are <a href="https://python.langchain.com/v0.2/docs/concepts/#chat-models">Chat Models</a>, see above).</p><p>Although
 the underlying models are string in, string out, the LangChain wrappers
 also allow these models to take messages as input.
This gives them the same interface as <a href="https://python.langchain.com/v0.2/docs/concepts/#chat-models">Chat Models</a>.
When messages are passed in as input, they will be formatted into a 
string under the hood before being passed to the underlying model.</p><p>LangChain does not host any LLMs, rather we rely on third party integrations.</p><p>For specifics on how to use LLMs, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#llms">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="messages">Messages<a href="#messages" class="hash-link" aria-label="Direct link to Messages" title="Direct link to Messages">â€‹</a></h3><p>Some language models take a list of messages as input and return a message.
There are a few different types of messages.
All messages have a <code>role</code>, <code>content</code>, and <code>response_metadata</code> property.</p><p>The <code>role</code> describes WHO is saying the message.
LangChain has different message classes for different roles.</p><p>The <code>content</code> property describes the content of the message.
This can be a few different things:</p><ul><li>A string (most models deal this type of content)</li><li>A
 List of dictionaries (this is used for multimodal input, where the 
dictionary contains information about that input type and that input 
location)</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="humanmessage">HumanMessage<a href="#humanmessage" class="hash-link" aria-label="Direct link to HumanMessage" title="Direct link to HumanMessage">â€‹</a></h4><p>This represents a message from the user.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="aimessage">AIMessage<a href="#aimessage" class="hash-link" aria-label="Direct link to AIMessage" title="Direct link to AIMessage">â€‹</a></h4><p>This represents a message from the model. In addition to the <code>content</code> property, these messages also have:</p><p><strong><code>response_metadata</code></strong></p><p>The <code>response_metadata</code> property contains additional metadata about the response. The data here is often specific to each model provider.
This is where information like log-probs and token usage may be stored.</p><p><strong><code>tool_calls</code></strong></p><p>These represent a decision from an language model to call a tool. They are included as part of an <code>AIMessage</code> output.
They can be accessed from there with the <code>.tool_calls</code> property.</p><p>This property returns a list of dictionaries. Each dictionary has the following keys:</p><ul><li><code>name</code>: The name of the tool that should be called.</li><li><code>args</code>: The arguments to that tool.</li><li><code>id</code>: The id of that tool call.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="systemmessage">SystemMessage<a href="#systemmessage" class="hash-link" aria-label="Direct link to SystemMessage" title="Direct link to SystemMessage">â€‹</a></h4><p>This represents a system message, which tells the model how to behave. Not every model provider supports this.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="functionmessage">FunctionMessage<a href="#functionmessage" class="hash-link" aria-label="Direct link to FunctionMessage" title="Direct link to FunctionMessage">â€‹</a></h4><p>This represents the result of a function call. In addition to <code>role</code> and <code>content</code>, this message has a <code>name</code> parameter which conveys the name of the function that was called to produce this result.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="toolmessage">ToolMessage<a href="#toolmessage" class="hash-link" aria-label="Direct link to ToolMessage" title="Direct link to ToolMessage">â€‹</a></h4><p>This represents the result of a tool call. This is distinct from a FunctionMessage in order to match OpenAI's <code>function</code> and <code>tool</code> message types. In addition to <code>role</code> and <code>content</code>, this message has a <code>tool_call_id</code> parameter which conveys the id of the call to the tool that was called to produce this result.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prompt-templates">Prompt templates<a href="#prompt-templates" class="hash-link" aria-label="Direct link to Prompt templates" title="Direct link to Prompt templates">â€‹</a></h3><span data-heading-keywords="prompt,prompttemplate,chatprompttemplate"></span><p>Prompt
 templates help to translate user input and parameters into instructions
 for a language model.
This can be used to guide a model's response, helping it understand the 
context and generate relevant and coherent language-based output.</p><p>Prompt Templates take as input a dictionary, where each key represents a variable in the prompt template to fill in.</p><p>Prompt
 Templates output a PromptValue. This PromptValue can be passed to an 
LLM or a ChatModel, and can also be cast to a string or a list of 
messages.
The reason this PromptValue exists is to make it easy to switch between 
strings and messages.</p><p>There are a few different types of prompt templates:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="string-prompttemplates">String PromptTemplates<a href="#string-prompttemplates" class="hash-link" aria-label="Direct link to String PromptTemplates" title="Direct link to String PromptTemplates">â€‹</a></h4><p>These prompt templates are used to format a single string, and generally are used for simpler inputs.
For example, a common way to construct and use a PromptTemplate is as follows:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">prompts </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> PromptTemplate</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> PromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"Tell me a joke about {topic}"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token string" style="color: rgb(206, 145, 120);">"topic"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"cats"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.prompt.PromptTemplate.html">PromptTemplate</a></span></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="chatprompttemplates">ChatPromptTemplates<a href="#chatprompttemplates" class="hash-link" aria-label="Direct link to ChatPromptTemplates" title="Direct link to ChatPromptTemplates">â€‹</a></h4><p>These prompt templates are used to format a list of messages. These "templates" consist of a list of templates themselves.
For example, a common way to construct and use a ChatPromptTemplate is as follows:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">prompts </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatPromptTemplate</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_messages</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"system"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"You are a helpful assistant"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"user"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"Tell me a joke about {topic}"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token string" style="color: rgb(206, 145, 120);">"topic"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"cats"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.chat.ChatPromptTemplate.html">ChatPromptTemplate</a></span></div><p>In the above example, this ChatPromptTemplate will construct two messages when called.
The first is a system message, that has no variables to format.
The second is a HumanMessage, and will be formatted by the <code>topic</code> variable the user passes in.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="messagesplaceholder">MessagesPlaceholder<a href="#messagesplaceholder" class="hash-link" aria-label="Direct link to MessagesPlaceholder" title="Direct link to MessagesPlaceholder">â€‹</a></h4><span data-heading-keywords="messagesplaceholder"></span><p>This prompt template is responsible for adding a list of messages in a particular place.
In the above ChatPromptTemplate, we saw how we could format two messages, each one a string.
But what if we wanted the user to pass in a list of messages that we would slot into a particular spot?
This is how you use MessagesPlaceholder.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">prompts </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> MessagesPlaceholder</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">messages </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> HumanMessage</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_messages</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"system"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"You are a helpful assistant"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    MessagesPlaceholder</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"msgs"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token string" style="color: rgb(206, 145, 120);">"msgs"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token plain">HumanMessage</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">content</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"hi!"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.chat.ChatPromptTemplate.html">ChatPromptTemplate</a> | </span><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.chat.MessagesPlaceholder.html">MessagesPlaceholder</a> | </span><span><a href="https://api.python.langchain.com/en/latest/messages/langchain_core.messages.human.HumanMessage.html">HumanMessage</a></span></div><p>This
 will produce a list of two messages, the first one being a system 
message, and the second one being the HumanMessage we passed in.
If we had passed in 5 messages, then it would have produced 6 messages 
in total (the system message plus the 5 passed in).
This is useful for letting a list of messages be slotted into a 
particular spot.</p><p>An alternative way to accomplish the same thing without using the <code>MessagesPlaceholder</code> class explicitly is:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt_template </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_messages</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"system"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"You are a helpful assistant"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"placeholder"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"{msgs}"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"> </span><span class="token comment" style="color: rgb(106, 153, 85);"># &lt;-- This is the changed part</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For specifics on how to use prompt templates, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#prompt-templates">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-selectors">Example selectors<a href="#example-selectors" class="hash-link" aria-label="Direct link to Example selectors" title="Direct link to Example selectors">â€‹</a></h3><p>One
 common prompting technique for achieving better performance is to 
include examples as part of the prompt.
This gives the language model concrete examples of how it should behave.
Sometimes these examples are hardcoded into the prompt, but for more 
advanced situations it may be nice to dynamically select them.
Example Selectors are classes responsible for selecting and then 
formatting examples into prompts.</p><p>For specifics on how to use example selectors, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#example-selectors">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="output-parsers">Output parsers<a href="#output-parsers" class="hash-link" aria-label="Direct link to Output parsers" title="Direct link to Output parsers">â€‹</a></h3><span data-heading-keywords="output parser"></span><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>The
 information here refers to parsers that take a text output from a model
 try to parse it into a more structured representation.
More and more models are supporting function (or tool) calling, which 
handles this automatically.
It is recommended to use function/tool calling rather than output 
parsing.
See documentation for that <a href="https://python.langchain.com/v0.2/docs/concepts/#function-tool-calling">here</a>.</p></div></div><p>Responsible for taking the output of a model and transforming it to a more suitable format for downstream tasks.
Useful when you are using LLMs to generate structured data, or to normalize output from chat models and LLMs.</p><p>LangChain
 has lots of different types of output parsers. This is a list of output
 parsers LangChain supports. The table below has various pieces of 
information:</p><p><strong>Name</strong>: The name of the output parser</p><p><strong>Supports Streaming</strong>: Whether the output parser supports streaming.</p><p><strong>Has Format Instructions</strong>:
 Whether the output parser has format instructions. This is generally 
available except when (a) the desired schema is not specified in the 
prompt but rather in other parameters (like OpenAI function calling), or
 (b) when the OutputParser wraps another OutputParser.</p><p><strong>Calls LLM</strong>:
 Whether this output parser itself calls an LLM. This is usually only 
done by output parsers that attempt to correct misformatted output.</p><p><strong>Input Type</strong>:
 Expected input type. Most output parsers work on both strings and 
messages, but some (like OpenAI Functions) need a message with specific 
kwargs.</p><p><strong>Output Type</strong>: The output type of the object returned by the parser.</p><p><strong>Description</strong>: Our commentary on this output parser and when to use it.</p><table><thead><tr><th>Name</th><th>Supports Streaming</th><th>Has Format Instructions</th><th>Calls LLM</th><th>Input Type</th><th>Output Type</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.json.JsonOutputParser.html#langchain_core.output_parsers.json.JsonOutputParser" target="_blank" rel="noopener noreferrer">JSON</a></td><td>âœ…</td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td>JSON object</td><td>Returns
 a JSON object as specified. You can specify a Pydantic model and it 
will return JSON for that model. Probably the most reliable output 
parser for getting structured data that does NOT use function calling.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.xml.XMLOutputParser.html#langchain_core.output_parsers.xml.XMLOutputParser" target="_blank" rel="noopener noreferrer">XML</a></td><td>âœ…</td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>dict</code></td><td>Returns a dictionary of tags. Use when XML output is needed. Use with models that are good at writing XML (like Anthropic's).</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.list.CommaSeparatedListOutputParser.html#langchain_core.output_parsers.list.CommaSeparatedListOutputParser" target="_blank" rel="noopener noreferrer">CSV</a></td><td>âœ…</td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>List[str]</code></td><td>Returns a list of comma separated values.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.fix.OutputFixingParser.html#langchain.output_parsers.fix.OutputFixingParser" target="_blank" rel="noopener noreferrer">OutputFixing</a></td><td></td><td></td><td>âœ…</td><td><code>str</code> | <code>Message</code></td><td></td><td>Wraps
 another output parser. If that output parser errors, then this will 
pass the error message and the bad output to an LLM and ask it to fix 
the output.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.retry.RetryWithErrorOutputParser.html#langchain.output_parsers.retry.RetryWithErrorOutputParser" target="_blank" rel="noopener noreferrer">RetryWithError</a></td><td></td><td></td><td>âœ…</td><td><code>str</code> | <code>Message</code></td><td></td><td>Wraps
 another output parser. If that output parser errors, then this will 
pass the original inputs, the bad output, and the error message to an 
LLM and ask it to fix it. Compared to OutputFixingParser, this one also 
sends the original instructions.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.pydantic.PydanticOutputParser.html#langchain_core.output_parsers.pydantic.PydanticOutputParser" target="_blank" rel="noopener noreferrer">Pydantic</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>pydantic.BaseModel</code></td><td>Takes a user defined Pydantic model and returns data in that format.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.yaml.YamlOutputParser.html#langchain.output_parsers.yaml.YamlOutputParser" target="_blank" rel="noopener noreferrer">YAML</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>pydantic.BaseModel</code></td><td>Takes a user defined Pydantic model and returns data in that format. Uses YAML to encode it.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.pandas_dataframe.PandasDataFrameOutputParser.html#langchain.output_parsers.pandas_dataframe.PandasDataFrameOutputParser" target="_blank" rel="noopener noreferrer">PandasDataFrame</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>dict</code></td><td>Useful for doing operations with pandas DataFrames.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.enum.EnumOutputParser.html#langchain.output_parsers.enum.EnumOutputParser" target="_blank" rel="noopener noreferrer">Enum</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>Enum</code></td><td>Parses response into one of the provided enum values.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.datetime.DatetimeOutputParser.html#langchain.output_parsers.datetime.DatetimeOutputParser" target="_blank" rel="noopener noreferrer">Datetime</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>datetime.datetime</code></td><td>Parses response into a datetime string.</td></tr><tr><td><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain.output_parsers.structured.StructuredOutputParser.html#langchain.output_parsers.structured.StructuredOutputParser" target="_blank" rel="noopener noreferrer">Structured</a></td><td></td><td>âœ…</td><td></td><td><code>str</code> | <code>Message</code></td><td><code>Dict[str, str]</code></td><td>An
 output parser that returns structured information. It is less powerful 
than other output parsers since it only allows for fields to be strings.
 This can be useful when you are working with smaller LLMs.</td></tr></tbody></table><p>For specifics on how to use output parsers, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#output-parsers">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chat-history">Chat history<a href="#chat-history" class="hash-link" aria-label="Direct link to Chat history" title="Direct link to Chat history">â€‹</a></h3><p>Most LLM applications have a conversational interface.
An essential component of a conversation is being able to refer to information introduced earlier in the conversation.
At bare minimum, a conversational system should be able to access some window of past messages directly.</p><p>The concept of <code>ChatHistory</code> refers to a class in LangChain which can be used to wrap an arbitrary chain.
This <code>ChatHistory</code> will keep track of inputs and outputs of the underlying chain, and append them as messages to a message database.
Future interactions will then load those messages and pass them into the chain as part of the input.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documents">Documents<a href="#documents" class="hash-link" aria-label="Direct link to Documents" title="Direct link to Documents">â€‹</a></h3><span data-heading-keywords="document,documents"></span><p>A Document object in LangChain contains information about some data. It has two attributes:</p><ul><li><code>page_content: str</code>: The content of this document. Currently is only a string.</li><li><code>metadata: dict</code>: Arbitrary metadata associated with this document. Can track the document id, file name, etc.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="document-loaders">Document loaders<a href="#document-loaders" class="hash-link" aria-label="Direct link to Document loaders" title="Direct link to Document loaders">â€‹</a></h3><span data-heading-keywords="document loader,document loaders"></span><p>These
 classes load Document objects. LangChain has hundreds of integrations 
with various data sources to load data from: Slack, Notion, Google 
Drive, etc.</p><p>Each DocumentLoader has its own specific parameters, but they can all be invoked in the same way with the <code>.load</code> method.
An example use case is as follows:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_community</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">document_loaders</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">csv_loader </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> CSVLoader</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">loader </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> CSVLoader</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">  </span><span class="token comment" style="color: rgb(106, 153, 85);"># &lt;-- Integration specific parameters here</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">data </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> loader</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">load</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/document_loaders/langchain_community.document_loaders.csv_loader.CSVLoader.html">CSVLoader</a></span></div><p>For specifics on how to use document loaders, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#document-loaders">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-splitters">Text splitters<a href="#text-splitters" class="hash-link" aria-label="Direct link to Text splitters" title="Direct link to Text splitters">â€‹</a></h3><p>Once
 you've loaded documents, you'll often want to transform them to better 
suit your application. The simplest example is you may want to split a 
long document into smaller chunks that can fit into your model's context
 window. LangChain has a number of built-in document transformers that 
make it easy to split, combine, filter, and otherwise manipulate 
documents.</p><p>When you want to deal with long pieces of text, it is 
necessary to split up that text into chunks. As simple as this sounds, 
there is a lot of potential complexity here. Ideally, you want to keep 
the semantically related pieces of text together. What "semantically 
related" means could depend on the type of text. This notebook showcases
 several ways to do that.</p><p>At a high level, text splitters work as following:</p><ol><li>Split the text up into small, semantically meaningful chunks (often sentences).</li><li>Start combining these small chunks into a larger chunk until you reach a certain size (as measured by some function).</li><li>Once
 you reach that size, make that chunk its own piece of text and then 
start creating a new chunk of text with some overlap (to keep context 
between chunks).</li></ol><p>That means there are two different axes along which you can customize your text splitter:</p><ol><li>How the text is split</li><li>How the chunk size is measured</li></ol><p>For specifics on how to use text splitters, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#text-splitters">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="embedding-models">Embedding models<a href="#embedding-models" class="hash-link" aria-label="Direct link to Embedding models" title="Direct link to Embedding models">â€‹</a></h3><span data-heading-keywords="embedding,embeddings"></span><p>Embedding
 models create a vector representation of a piece of text. You can think
 of a vector as an array of numbers that captures the semantic meaning 
of the text.
By representing the text in this way, you can perform mathematical 
operations that allow you to do things like search for other pieces of 
text that are most similar in meaning.
These natural language search capabilities underpin many types of <a href="https://python.langchain.com/v0.2/docs/concepts/#retrieval">context retrieval</a>,
where we provide an LLM with the relevant data it needs to effectively respond to a query.</p><p><img loading="lazy" src="langchain_files/embeddings-9c2616450a3b4f497a2d95a696b5f1a7.png" width="2300" height="1198" class="img_ev3q"></p><p>The <code>Embeddings</code>
 class is a class designed for interfacing with text embedding models. 
There are many different embedding model providers (OpenAI, Cohere, 
Hugging Face, etc) and local models, and this class is designed to 
provide a standard interface for all of them.</p><p>The base Embeddings 
class in LangChain provides two methods: one for embedding documents and
 one for embedding a query. The former takes as input multiple texts, 
while the latter takes a single text. The reason for having these as two
 separate methods is that some embedding providers have different 
embedding methods for documents (to be searched over) vs queries (the 
search query itself).</p><p>For specifics on how to use embedding models, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#embedding-models">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="vector-stores">Vector stores<a href="#vector-stores" class="hash-link" aria-label="Direct link to Vector stores" title="Direct link to Vector stores">â€‹</a></h3><span data-heading-keywords="vector,vectorstore,vectorstores,vector store,vector stores"></span><p>One
 of the most common ways to store and search over unstructured data is 
to embed it and store the resulting embedding vectors,
and then at query time to embed the unstructured query and retrieve the 
embedding vectors that are 'most similar' to the embedded query.
A vector store takes care of storing embedded data and performing vector
 search for you.</p><p>Most vector stores can also store metadata about embedded vectors and support filtering on that metadata before
similarity search, allowing you more control over returned documents.</p><p>Vector stores can be converted to the retriever interface by doing:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">vectorstore </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> MyVectorStore</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">retriever </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> vectorstore</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">as_retriever</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For specifics on how to use vector stores, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#vector-stores">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrievers">Retrievers<a href="#retrievers" class="hash-link" aria-label="Direct link to Retrievers" title="Direct link to Retrievers">â€‹</a></h3><span data-heading-keywords="retriever,retrievers"></span><p>A retriever is an interface that returns documents given an unstructured query.
It is more general than a vector store.
A retriever does not need to be able to store documents, only to return (or retrieve) them.
Retrievers can be created from vector stores, but are also broad enough to include <a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/wikipedia/">Wikipedia search</a> and <a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/amazon_kendra_retriever/">Amazon Kendra</a>.</p><p>Retrievers accept a string query as input and return a list of Document's as output.</p><p>For specifics on how to use retrievers, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#retrievers">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools">Tools<a href="#tools" class="hash-link" aria-label="Direct link to Tools" title="Direct link to Tools">â€‹</a></h3><span data-heading-keywords="tool,tools"></span><p>Tools are interfaces that an agent, a chain, or a chat model / LLM can use to interact with the world.</p><p>A tool consists of the following components:</p><ol><li>The name of the tool</li><li>A description of what the tool does</li><li>JSON schema of what the inputs to the tool are</li><li>The function to call</li><li>Whether the result of a tool should be returned directly to the user (only relevant for agents)</li></ol><p>The name, description and JSON schema are provided as context
to the LLM, allowing the LLM to determine how to use the tool
appropriately.</p><p>Given a list of available tools and a prompt, an LLM can request
that one or more tools be invoked with appropriate arguments.</p><p>Generally, when designing tools to be used by a chat model or LLM, it is important to keep in mind the following:</p><ul><li>Chat models that have been fine-tuned for tool calling will be better at tool calling than non-fine-tuned models.</li><li>Non fine-tuned models may not be able to use tools at all, especially if the tools are complex or require multiple tool calls.</li><li>Models will perform better if the tools have well-chosen names, descriptions, and JSON schemas.</li><li>Simpler tools are generally easier for models to use than more complex tools.</li></ul><p>For specifics on how to use tools, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#tools">relevant how-to guides here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="toolkits">Toolkits<a href="#toolkits" class="hash-link" aria-label="Direct link to Toolkits" title="Direct link to Toolkits">â€‹</a></h3><p>Toolkits
 are collections of tools that are designed to be used together for 
specific tasks. They have convenient loading methods.</p><p>All Toolkits expose a <code>get_tools</code> method which returns a list of tools.
You can therefore do:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token comment" style="color: rgb(106, 153, 85);"># Initialize a toolkit</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">toolkit </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ExampleTookit</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token comment" style="color: rgb(106, 153, 85);"># Get list of tools</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">tools </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> toolkit</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">get_tools</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="agents">Agents<a href="#agents" class="hash-link" aria-label="Direct link to Agents" title="Direct link to Agents">â€‹</a></h3><p>By themselves, language models can't take actions - they just output text.
A big use case for LangChain is creating <strong>agents</strong>.
Agents are systems that use an LLM as a reasoning engine to determine 
which actions to take and what the inputs to those actions should be.
The results of those actions can then be fed back into the agent and it 
determine whether more actions are needed, or whether it is okay to 
finish.</p><p><a href="https://github.com/langchain-ai/langgraph" target="_blank" rel="noopener noreferrer">LangGraph</a> is an extension of LangChain specifically aimed at creating highly controllable and customizable agents.
Please check out that documentation for a more in depth overview of agent concepts.</p><p>There is a legacy agent concept in LangChain that we are moving towards deprecating: <code>AgentExecutor</code>.
AgentExecutor was essentially a runtime for agents.
It was a great place to get started, however, it was not flexible enough as you started to have more customized agents.
In order to solve that we built LangGraph to be this flexible, highly-controllable runtime.</p><p>If you are still using AgentExecutor, do not fear: we still have a guide on <a href="https://python.langchain.com/v0.2/docs/how_to/agent_executor/">how to use AgentExecutor</a>.
It is recommended, however, that you start to transition to LangGraph.
In order to assist in this we have put together a <a href="https://python.langchain.com/v0.2/docs/how_to/migrate_agent/">transition guide on how to do so</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="react-agents">ReAct agents<a href="#react-agents" class="hash-link" aria-label="Direct link to ReAct agents" title="Direct link to ReAct agents">â€‹</a></h4><span data-heading-keywords="react,react agent"></span><p>One popular architecture for building agents is <a href="https://arxiv.org/abs/2210.03629" target="_blank" rel="noopener noreferrer"><strong>ReAct</strong></a>.
ReAct combines reasoning and acting in an iterative process - in fact the name "ReAct" stands for "Reason" and "Act".</p><p>The general flow looks like this:</p><ul><li>The model will "think" about what step to take in response to an input and any previous observations.</li><li>The model will then choose an action from available tools (or choose to respond to the user).</li><li>The model will generate arguments to that tool.</li><li>The agent runtime (executor) will parse out the chosen tool and call it with the generated arguments.</li><li>The executor will return the results of the tool call back to the model as an observation.</li><li>This process repeats until the agent chooses to respond.</li></ul><p>There are general prompting based implementations that do not require any model-specific features, but the most
reliable implementations use features like <a href="https://python.langchain.com/v0.2/docs/how_to/tool_calling/">tool calling</a> to reliably format outputs
and reduce variance.</p><p>Please see the <a href="https://langchain-ai.github.io/langgraph/" target="_blank" rel="noopener noreferrer">LangGraph documentation</a> for more information,
or <a href="https://python.langchain.com/v0.2/docs/how_to/migrate_agent/">this how-to guide</a> for specific information on migrating to LangGraph.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="callbacks">Callbacks<a href="#callbacks" class="hash-link" aria-label="Direct link to Callbacks" title="Direct link to Callbacks">â€‹</a></h3><p>LangChain
 provides a callbacks system that allows you to hook into the various 
stages of your LLM application. This is useful for logging, monitoring, 
streaming, and other tasks.</p><p>You can subscribe to these events by using the <code>callbacks</code>
 argument available throughout the API. This argument is list of handler
 objects, which are expected to implement one or more of the methods 
described below in more detail.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="callback-events">Callback Events<a href="#callback-events" class="hash-link" aria-label="Direct link to Callback Events" title="Direct link to Callback Events">â€‹</a></h4><table><thead><tr><th>Event</th><th>Event Trigger</th><th>Associated Method</th></tr></thead><tbody><tr><td>Chat model start</td><td>When a chat model starts</td><td><code>on_chat_model_start</code></td></tr><tr><td>LLM start</td><td>When a llm starts</td><td><code>on_llm_start</code></td></tr><tr><td>LLM new token</td><td>When an llm OR chat model emits a new token</td><td><code>on_llm_new_token</code></td></tr><tr><td>LLM ends</td><td>When an llm OR chat model ends</td><td><code>on_llm_end</code></td></tr><tr><td>LLM errors</td><td>When an llm OR chat model errors</td><td><code>on_llm_error</code></td></tr><tr><td>Chain start</td><td>When a chain starts running</td><td><code>on_chain_start</code></td></tr><tr><td>Chain end</td><td>When a chain ends</td><td><code>on_chain_end</code></td></tr><tr><td>Chain error</td><td>When a chain errors</td><td><code>on_chain_error</code></td></tr><tr><td>Tool start</td><td>When a tool starts running</td><td><code>on_tool_start</code></td></tr><tr><td>Tool end</td><td>When a tool ends</td><td><code>on_tool_end</code></td></tr><tr><td>Tool error</td><td>When a tool errors</td><td><code>on_tool_error</code></td></tr><tr><td>Agent action</td><td>When an agent takes an action</td><td><code>on_agent_action</code></td></tr><tr><td>Agent finish</td><td>When an agent ends</td><td><code>on_agent_finish</code></td></tr><tr><td>Retriever start</td><td>When a retriever starts</td><td><code>on_retriever_start</code></td></tr><tr><td>Retriever end</td><td>When a retriever ends</td><td><code>on_retriever_end</code></td></tr><tr><td>Retriever error</td><td>When a retriever errors</td><td><code>on_retriever_error</code></td></tr><tr><td>Text</td><td>When arbitrary text is run</td><td><code>on_text</code></td></tr><tr><td>Retry</td><td>When a retry event is run</td><td><code>on_retry</code></td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="callback-handlers">Callback handlers<a href="#callback-handlers" class="hash-link" aria-label="Direct link to Callback handlers" title="Direct link to Callback handlers">â€‹</a></h4><p>Callback handlers can either be <code>sync</code> or <code>async</code>:</p><ul><li>Sync callback handlers implement the <a href="https://api.python.langchain.com/en/latest/callbacks/langchain_core.callbacks.base.BaseCallbackHandler.html" target="_blank" rel="noopener noreferrer">BaseCallbackHandler</a> interface.</li><li>Async callback handlers implement the <a href="https://api.python.langchain.com/en/latest/callbacks/langchain_core.callbacks.base.AsyncCallbackHandler.html" target="_blank" rel="noopener noreferrer">AsyncCallbackHandler</a> interface.</li></ul><p>During run-time LangChain configures an appropriate callback manager (e.g., <a href="https://api.python.langchain.com/en/latest/callbacks/langchain_core.callbacks.manager.CallbackManager.html" target="_blank" rel="noopener noreferrer">CallbackManager</a> or <a href="https://api.python.langchain.com/en/latest/callbacks/langchain_core.callbacks.manager.AsyncCallbackManager.html" target="_blank" rel="noopener noreferrer">AsyncCallbackManager</a> which will be responsible for calling the appropriate method on each "registered" callback handler when the event is triggered.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="passing-callbacks">Passing callbacks<a href="#passing-callbacks" class="hash-link" aria-label="Direct link to Passing callbacks" title="Direct link to Passing callbacks">â€‹</a></h4><p>The <code>callbacks</code> property is available on most objects throughout the API (Models, Tools, Agents, etc.) in two different places:</p><p>The callbacks are available on most objects throughout the API (Models, Tools, Agents, etc.) in two different places:</p><ul><li><strong>Request time callbacks</strong>: Passed at the time of the request in addition to the input data.
Available on all standard <code>Runnable</code> objects. These callbacks are INHERITED by all children
of the object they are defined on. For example, <code>chain.invoke({"number": 25}, {"callbacks": [handler]})</code>.</li><li><strong>Constructor callbacks</strong>: <code>chain = TheNameOfSomeChain(callbacks=[handler])</code>. These callbacks
are passed as arguments to the constructor of the object. The callbacks are scoped
only to the object they are defined on, and are <strong>not</strong> inherited by any children of the object.</li></ul><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Constructor callbacks are scoped only to the object they are defined on. They are <strong>not</strong> inherited by children
of the object.</p></div></div><p>If you're creating a custom chain or runnable, you need to remember to propagate request time
callbacks to any child objects.</p><div class="theme-admonition theme-admonition-important alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Async in Python&lt;=3.10</div><div class="admonitionContent_S0QG"><p>Any <code>RunnableLambda</code>, a <code>RunnableGenerator</code>, or <code>Tool</code> that invokes other runnables
and is running async in python&lt;=3.10, will have to propagate callbacks to child
objects manually. This is because LangChain cannot automatically propagate
callbacks to child objects in this case.</p><p>This is a common reason why you may fail to see events being emitted from custom
runnables or tools.</p></div></div><p>For specifics on how to use callbacks, see the <a href="https://python.langchain.com/v0.2/docs/how_to/#callbacks">relevant how-to guides here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="techniques">Techniques<a href="#techniques" class="hash-link" aria-label="Direct link to Techniques" title="Direct link to Techniques">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="streaming">Streaming<a href="#streaming" class="hash-link" aria-label="Direct link to Streaming" title="Direct link to Streaming">â€‹</a></h3><span data-heading-keywords="stream,streaming"></span><p>Individual LLM calls often run for much longer than traditional resource requests.
This compounds when you build more complex chains or agents that require multiple reasoning steps.</p><p>Fortunately, LLMs generate output iteratively, which means it's possible to show sensible intermediate results
before the final response is ready. Consuming output as soon as it becomes available has therefore become a vital part of the UX
around building apps with LLMs to help alleviate latency issues, and LangChain aims to have first-class support for streaming.</p><p>Below, we'll discuss some concepts and considerations around streaming in LangChain.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stream-and-astream"><code>.stream()</code> and <code>.astream()</code><a href="#stream-and-astream" class="hash-link" aria-label="Direct link to stream-and-astream" title="Direct link to stream-and-astream">â€‹</a></h4><p>Most modules in LangChain include the <code>.stream()</code> method (and the equivalent <code>.astream()</code> method for <a href="https://docs.python.org/3/library/asyncio.html" target="_blank" rel="noopener noreferrer">async</a> environments) as an ergonomic streaming interface.
<code>.stream()</code> returns an iterator, which you can consume with a simple <code>for</code> loop. Here's an example with a chat model:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_anthropic </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatAnthropic</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">model </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatAnthropic</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">model</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"claude-3-sonnet-20240229"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">for</span><span class="token plain"> chunk </span><span class="token keyword" style="color: rgb(86, 156, 214);">in</span><span class="token plain"> model</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">stream</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"what color is the sky?"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(86, 156, 214);">print</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">chunk</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">content</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> end</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"|"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> flush</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token boolean">True</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/chat_models/langchain_anthropic.chat_models.ChatAnthropic.html">ChatAnthropic</a></span></div><p>For models (or other components) that don't support streaming natively, this iterator would just yield a single chunk, but
you could still use the same general pattern when calling them. Using <code>.stream()</code> will also automatically call the model in streaming mode
without the need to provide additional config.</p><p>The type of each outputted chunk depends on the type of component - for example, chat models yield <a href="https://api.python.langchain.com/en/latest/messages/langchain_core.messages.ai.AIMessageChunk.html" target="_blank" rel="noopener noreferrer"><code>AIMessageChunks</code></a>.
Because this method is part of <a href="https://python.langchain.com/v0.2/docs/concepts/#langchain-expression-language-lcel">LangChain Expression Language</a>,
you can handle formatting differences from different outputs using an <a href="https://python.langchain.com/v0.2/docs/concepts/#output-parsers">output parser</a> to transform
each yielded chunk.</p><p>You can check out <a href="https://python.langchain.com/v0.2/docs/how_to/streaming/#using-stream">this guide</a> for more detail on how to use <code>.stream()</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="astream_events"><code>.astream_events()</code><a href="#astream_events" class="hash-link" aria-label="Direct link to astream_events" title="Direct link to astream_events">â€‹</a></h4><span data-heading-keywords="astream_events,stream_events,stream events"></span><p>While the <code>.stream()</code> method is intuitive, it can only return the final generated value of your chain. This is fine for single LLM calls,
but as you build more complex chains of several LLM calls together, you may want to use the intermediate values of
the chain alongside the final output - for example, returning sources alongside the final generation when building a chat
over documents app.</p><p>There are ways to do this <a href="https://python.langchain.com/v0.2/docs/concepts/#callbacks-1">using callbacks</a>, or by constructing your chain in such a way that it passes intermediate
values to the end with something like chained <a href="https://python.langchain.com/v0.2/docs/how_to/passthrough/"><code>.assign()</code></a> calls, but LangChain also includes an
<code>.astream_events()</code> method that combines the flexibility of callbacks with the ergonomics of <code>.stream()</code>. When called, it returns an iterator
which yields <a href="https://python.langchain.com/v0.2/docs/how_to/streaming/#event-reference">various types of events</a> that you can filter and process according
to the needs of your project.</p><p>Here's one small example that prints just events containing streamed chat model output:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">output_parsers </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> StrOutputParser</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">prompts </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatPromptTemplate</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_anthropic </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatAnthropic</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">model </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatAnthropic</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">model</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"claude-3-sonnet-20240229"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"tell me a joke about {topic}"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">parser </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> StrOutputParser</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">chain </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> prompt </span><span class="token operator" style="color: rgb(212, 212, 212);">|</span><span class="token plain"> model </span><span class="token operator" style="color: rgb(212, 212, 212);">|</span><span class="token plain"> parser</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">async</span><span class="token plain"> </span><span class="token keyword" style="color: rgb(86, 156, 214);">for</span><span class="token plain"> event </span><span class="token keyword" style="color: rgb(86, 156, 214);">in</span><span class="token plain"> chain</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">astream_events</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token string" style="color: rgb(206, 145, 120);">"topic"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"parrot"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> version</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"v2"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    kind </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> event</span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token string" style="color: rgb(206, 145, 120);">"event"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token keyword" style="color: rgb(86, 156, 214);">if</span><span class="token plain"> kind </span><span class="token operator" style="color: rgb(212, 212, 212);">==</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"on_chat_model_stream"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">        </span><span class="token keyword" style="color: rgb(86, 156, 214);">print</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">event</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> end</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"|"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> flush</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token boolean">True</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.string.StrOutputParser.html">StrOutputParser</a> | </span><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.chat.ChatPromptTemplate.html">ChatPromptTemplate</a> | </span><span><a href="https://api.python.langchain.com/en/latest/chat_models/langchain_anthropic.chat_models.ChatAnthropic.html">ChatAnthropic</a></span></div><p>You
 can roughly think of it as an iterator over callback events (though the
 format differs) - and you can use it on almost all LangChain 
components!</p><p>See <a href="https://python.langchain.com/v0.2/docs/how_to/streaming/#using-stream-events">this guide</a> for more detailed information on how to use <code>.astream_events()</code>,
including a table listing available events.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="callbacks-1">Callbacks<a href="#callbacks-1" class="hash-link" aria-label="Direct link to Callbacks" title="Direct link to Callbacks">â€‹</a></h4><p>The lowest level way to stream outputs from LLMs in LangChain is via the <a href="https://python.langchain.com/v0.2/docs/concepts/#callbacks">callbacks</a> system. You can pass a
callback handler that handles the <a href="https://api.python.langchain.com/en/latest/callbacks/langchain.callbacks.streaming_aiter.AsyncIteratorCallbackHandler.html#langchain.callbacks.streaming_aiter.AsyncIteratorCallbackHandler.on_llm_new_token" target="_blank" rel="noopener noreferrer"><code>on_llm_new_token</code></a> event into LangChain components. When that component is invoked, any
<a href="https://python.langchain.com/v0.2/docs/concepts/#llms">LLM</a> or <a href="https://python.langchain.com/v0.2/docs/concepts/#chat-models">chat model</a>
 contained in the component calls
the callback with the generated token. Within the callback, you could 
pipe the tokens into some other destination, e.g. a HTTP response.
You can also handle the <a href="https://api.python.langchain.com/en/latest/callbacks/langchain.callbacks.streaming_aiter.AsyncIteratorCallbackHandler.html#langchain.callbacks.streaming_aiter.AsyncIteratorCallbackHandler.on_llm_end" target="_blank" rel="noopener noreferrer"><code>on_llm_end</code></a> event to perform any necessary cleanup.</p><p>You can see <a href="https://python.langchain.com/v0.2/docs/how_to/#callbacks">this how-to section</a> for more specifics on using callbacks.</p><p>Callbacks were the first technique for streaming introduced in LangChain. While powerful and generalizable,
they can be unwieldy for developers. For example:</p><ul><li>You need to explicitly initialize and manage some aggregator or other stream to collect results.</li><li>The execution order isn't explicitly guaranteed, and you could theoretically have a callback run after the <code>.invoke()</code> method finishes.</li><li>Providers would often make you pass an additional parameter to stream outputs instead of returning them all at once.</li><li>You would often ignore the result of the actual model call in favor of callback results.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="tokens">Tokens<a href="#tokens" class="hash-link" aria-label="Direct link to Tokens" title="Direct link to Tokens">â€‹</a></h4><p>The unit that most model providers use to measure input and output is via a unit called a <strong>token</strong>.
Tokens are the basic units that language models read and generate when processing or producing text.
The exact definition of a token can vary depending on the specific way the model was trained -
for instance, in English, a token could be a single word like "apple", or a part of a word like "app".</p><p>When you send a model a prompt, the words and characters in the prompt are encoded into tokens using a <strong>tokenizer</strong>.
The model then streams back generated output tokens, which the tokenizer decodes into human-readable text.
The below example shows how OpenAI models tokenize <code>LangChain is cool!</code>:</p><p><img loading="lazy" src="langchain_files/tokenization-10f566ab6774724e63dd99646f69655c.png" width="1422" height="1084" class="img_ev3q"></p><p>You
 can see that it gets split into 5 different tokens, and that the 
boundaries between tokens are not exactly the same as word boundaries.</p><p>The
 reason language models use tokens rather than something more 
immediately intuitive like "characters"
has to do with how they process and understand text. At a high-level, 
language models iteratively predict their next generated output based on
the initial input and their previous generations. Training the model 
using tokens language models to handle linguistic
units (like words or subwords) that carry meaning, rather than 
individual characters, which makes it easier for the model
to learn and understand the structure of the language, including grammar
 and context.
Furthermore, using tokens can also improve efficiency, since the model 
processes fewer units of text compared to character-level processing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="structured-output">Structured output<a href="#structured-output" class="hash-link" aria-label="Direct link to Structured output" title="Direct link to Structured output">â€‹</a></h3><p>LLMs are capable of generating arbitrary text. This enables the model to respond appropriately to a wide
range of inputs, but for some use-cases, it can be useful to constrain the LLM's output
to a specific format or structure. This is referred to as <strong>structured output</strong>.</p><p>For example, if the output is to be stored in a relational database,
it is much easier if the model generates output that adheres to a defined schema or format.
<a href="https://python.langchain.com/v0.2/docs/tutorials/extraction/">Extracting specific information</a> from unstructured text is another
case where this is particularly useful. Most commonly, the output format will be JSON,
though other formats such as <a href="https://python.langchain.com/v0.2/docs/how_to/output_parser_yaml/">YAML</a> can be useful too. Below, we'll discuss
a few ways to get structured output from models in LangChain.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="with_structured_output"><code>.with_structured_output()</code><a href="#with_structured_output" class="hash-link" aria-label="Direct link to with_structured_output" title="Direct link to with_structured_output">â€‹</a></h4><p>For convenience, some LangChain chat models support a <a href="https://python.langchain.com/v0.2/docs/how_to/structured_output/#the-with_structured_output-method"><code>.with_structured_output()</code></a>
method. This method only requires a schema as input, and returns a dict or Pydantic object.
Generally, this method is only present on models that support one of the more advanced methods described below,
and will use one of them under the hood. It takes care of importing a suitable output parser and
formatting the schema in the right format for the model.</p><p>Here's an example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> typing </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> Optional</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">pydantic_v1 </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> BaseModel</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"> Field</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">class</span><span class="token plain"> </span><span class="token class-name" style="color: rgb(78, 201, 176);">Joke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">BaseModel</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color: rgb(206, 145, 120);">"""Joke to tell user."""</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    setup</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(86, 156, 214);">str</span><span class="token plain"> </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">description</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"The setup of the joke"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    punchline</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token builtin" style="color: rgb(86, 156, 214);">str</span><span class="token plain"> </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">description</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"The punchline to the joke"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    rating</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> Optional</span><span class="token punctuation" style="color: rgb(212, 212, 212);">[</span><span class="token builtin" style="color: rgb(86, 156, 214);">int</span><span class="token punctuation" style="color: rgb(212, 212, 212);">]</span><span class="token plain"> </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> Field</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">description</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"How funny the joke is, from 1 to 10"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">structured_llm </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> llm</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">with_structured_output</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain">Joke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">structured_llm</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token string" style="color: rgb(206, 145, 120);">"Tell me a joke about cats"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">Joke(setup='Why was the cat sitting on the computer?', punchline='To keep an eye on the mouse!', rating=None)</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We recommend this method as a starting point when working with structured output:</p><ul><li>It uses other model-specific features under the hood, without the need to import an output parser.</li><li>For the models that use tool calling, no special prompting is needed.</li><li>If multiple underlying techniques are supported, you can supply a <code>method</code> parameter to
<a href="https://python.langchain.com/v0.2/docs/how_to/structured_output/#advanced-specifying-the-method-for-structuring-outputs">toggle which one is used</a>.</li></ul><p>You may want or need to use other techiniques if:</p><ul><li>The chat model you are using does not support tool calling.</li><li>You are working with very complex schemas and the model is having trouble generating outputs that conform.</li></ul><p>For more information, check out this <a href="https://python.langchain.com/v0.2/docs/how_to/structured_output/#the-with_structured_output-method">how-to guide</a>.</p><p>You can also check out <a href="https://python.langchain.com/v0.2/docs/integrations/chat/#advanced-features">this table</a> for a list of models that support
<code>with_structured_output()</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="raw-prompting">Raw prompting<a href="#raw-prompting" class="hash-link" aria-label="Direct link to Raw prompting" title="Direct link to Raw prompting">â€‹</a></h4><p>The most intuitive way to get a model to structure output is to ask nicely.
In addition to your query, you can give instructions describing what kind of output you'd like, then
parse the output using an <a href="https://python.langchain.com/v0.2/docs/concepts/#output-parsers">output parser</a> to convert the raw
model message or string output into something more easily manipulated.</p><p>The biggest benefit to raw prompting is its flexibility:</p><ul><li>Raw prompting does not require any special model features, only sufficient reasoning capability to understand
the passed schema.</li><li>You can prompt for any format you'd like, not just JSON. This can be useful if the model you
are using is more heavily trained on a certain type of data, such as XML or YAML.</li></ul><p>However, there are some drawbacks too:</p><ul><li>LLMs are non-deterministic, and prompting a LLM to consistently output data in the exactly correct format
for smooth parsing can be surprisingly difficult and model-specific.</li><li>Individual models have quirks depending on the data they were trained on, and optimizing prompts can be quite difficult.
Some may be better at interpreting <a href="https://json-schema.org/" target="_blank" rel="noopener noreferrer">JSON schema</a>, others may be best with TypeScript definitions,
and still others may prefer XML.</li></ul><p>While features offered by model providers may increase reliability, prompting techniques remain important for tuning your
results no matter which method you choose.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="json-mode">JSON mode<a href="#json-mode" class="hash-link" aria-label="Direct link to JSON mode" title="Direct link to JSON mode">â€‹</a></h4><span data-heading-keywords="json mode"></span><p>Some models, such as <a href="https://python.langchain.com/v0.2/docs/integrations/chat/mistralai/">Mistral</a>, <a href="https://python.langchain.com/v0.2/docs/integrations/chat/openai/">OpenAI</a>,
<a href="https://python.langchain.com/v0.2/docs/integrations/chat/together/">Together AI</a> and <a href="https://python.langchain.com/v0.2/docs/integrations/chat/ollama/">Ollama</a>,
support a feature called <strong>JSON mode</strong>, usually enabled via config.</p><p>When enabled, JSON mode will constrain the model's output to always be some sort of valid JSON.
Often they require some custom prompting, but it's usually much less burdensome than completely raw prompting and
more along the lines of, <code>"you must always return JSON"</code>. The <a href="https://python.langchain.com/v0.2/docs/how_to/output_parser_json/">output also generally easier to parse</a>.</p><p>It's also generally simpler to use directly and more commonly available than tool calling, and can give
more flexibility around prompting and shaping results than tool calling.</p><p>Here's an example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_core</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">prompts </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatPromptTemplate</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain_openai </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> ChatOpenAI</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token keyword" style="color: rgb(86, 156, 214);">from</span><span class="token plain"> langchain</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">output_parsers</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">json </span><span class="token keyword" style="color: rgb(86, 156, 214);">import</span><span class="token plain"> SimpleJsonOutputParser</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">model </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatOpenAI</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    model</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token string" style="color: rgb(206, 145, 120);">"gpt-4o"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    model_kwargs</span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"response_format"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"type"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"json_object"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">,</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">prompt </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> ChatPromptTemplate</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">from_template</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token string" style="color: rgb(206, 145, 120);">"Answer the user's question to the best of your ability."</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token string" style="color: rgb(206, 145, 120);">'You must always output a JSON object with an "answer" key and a "followup_question" key.'</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">    </span><span class="token string" style="color: rgb(206, 145, 120);">"{question}"</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"></span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">chain </span><span class="token operator" style="color: rgb(212, 212, 212);">=</span><span class="token plain"> prompt </span><span class="token operator" style="color: rgb(212, 212, 212);">|</span><span class="token plain"> model </span><span class="token operator" style="color: rgb(212, 212, 212);">|</span><span class="token plain"> SimpleJsonOutputParser</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><span class="token plain"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain" style="display: inline-block;"></span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">chain</span><span class="token punctuation" style="color: rgb(212, 212, 212);">.</span><span class="token plain">invoke</span><span class="token punctuation" style="color: rgb(212, 212, 212);">(</span><span class="token punctuation" style="color: rgb(212, 212, 212);">{</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"question"</span><span class="token punctuation" style="color: rgb(212, 212, 212);">:</span><span class="token plain"> </span><span class="token string" style="color: rgb(206, 145, 120);">"What is the powerhouse of the cell?"</span><span class="token plain"> </span><span class="token punctuation" style="color: rgb(212, 212, 212);">}</span><span class="token punctuation" style="color: rgb(212, 212, 212);">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div style="padding-top: 1.3rem; background: var(--prism-background-color); color: var(--prism-color); margin-top: calc(-1 * var(--ifm-leading) - 5px); margin-bottom: var(--ifm-leading); box-shadow: var(--ifm-global-shadow-lw); border-bottom-left-radius: var(--ifm-code-border-radius); border-bottom-right-radius: var(--ifm-code-border-radius);"><b style="padding-left: 0.65rem; margin-bottom: 0.45rem; margin-right: 0.5rem;">API Reference:</b><span><a href="https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.chat.ChatPromptTemplate.html">ChatPromptTemplate</a> | </span><span><a href="https://api.python.langchain.com/en/latest/chat_models/langchain_openai.chat_models.base.ChatOpenAI.html">ChatOpenAI</a> | </span><span><a href="https://api.python.langchain.com/en/latest/output_parsers/langchain_core.output_parsers.json.SimpleJsonOutputParser.html">SimpleJsonOutputParser</a></span></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color: #9CDCFE; --prism-background-color: #222222;"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain">{'answer': 'The powerhouse of the cell is the mitochondrion. It is responsible for producing energy in the form of ATP through cellular respiration.',</span><br></span><span class="token-line" style="color: rgb(156, 220, 254);"><span class="token plain"> 'followup_question': 'Would you like to know more about how mitochondria produce energy?'}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" class="clean-btn" aria-label="Toggle word wrap" title="Toggle word wrap"><svg viewBox="0 0 24 24" class="wordWrapButtonIcon_Bwma" aria-hidden="true"><path fill="currentColor" d="M4 19h6v-2H4v2zM20 5H4v2h16V5zm-3 6H4v2h13.25c1.1 0 2 .9 2 2s-.9 2-2 2H15v-2l-3 3l3 3v-2h2c2.21 0 4-1.79 4-4s-1.79-4-4-4z"></path></svg></button><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For a full list of model providers that support JSON mode, see <a href="https://python.langchain.com/v0.2/docs/integrations/chat/#advanced-features">this table</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="functiontool-calling">Function/tool calling<a href="#functiontool-calling" class="hash-link" aria-label="Direct link to Function/tool calling" title="Direct link to Function/tool calling">â€‹</a></h4><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>We use the term tool calling interchangeably with function calling. Although
function calling is sometimes meant to refer to invocations of a single function,
we treat all models as though they can return multiple tool or function calls in
each message</p></div></div><p>Tool calling allows a model to respond to a given prompt by generating output that
matches a user-defined schema. While the name implies that the model is performing
some action, this is actually not the case! The model is coming up with the
arguments to a tool, and actually running the tool (or not) is up to the user -
for example, if you want to <a href="https://python.langchain.com/v0.2/docs/tutorials/extraction/">extract output matching some schema</a>
from unstructured text, you could give the model an "extraction" tool that takes
parameters matching the desired schema, then treat the generated output as your final
result.</p><p>For models that support it, tool calling can be very convenient. It removes the
guesswork around how best to prompt schemas in favor of a built-in model feature. It can also
more naturally support agentic flows, since you can just pass multiple tool schemas instead
of fiddling with enums or unions.</p><p>Many LLM providers, including <a href="https://www.anthropic.com/" target="_blank" rel="noopener noreferrer">Anthropic</a>,
<a href="https://cohere.com/" target="_blank" rel="noopener noreferrer">Cohere</a>, <a href="https://cloud.google.com/vertex-ai" target="_blank" rel="noopener noreferrer">Google</a>,
<a href="https://mistral.ai/" target="_blank" rel="noopener noreferrer">Mistral</a>, <a href="https://openai.com/" target="_blank" rel="noopener noreferrer">OpenAI</a>, and others,
support variants of a tool calling feature. These features typically allow requests
to the LLM to include available tools and their schemas, and for responses to include
calls to these tools. For instance, given a search engine tool, an LLM might handle a
query by first issuing a call to the search engine. The system calling the LLM can
receive the tool call, execute it, and return the output to the LLM to inform its
response. LangChain includes a suite of <a href="https://python.langchain.com/v0.2/docs/integrations/tools/">built-in tools</a>
and supports several methods for defining your own <a href="https://python.langchain.com/v0.2/docs/how_to/custom_tools/">custom tools</a>.</p><p>LangChain provides a standardized interface for tool calling that is consistent across different models.</p><p>The standard interface consists of:</p><ul><li><code>ChatModel.bind_tools()</code>: a method for specifying which tools are available for a model to call. This method accepts <a href="https://python.langchain.com/v0.2/docs/concepts/#tools">LangChain tools</a> here.</li><li><code>AIMessage.tool_calls</code>: an attribute on the <code>AIMessage</code> returned from the model for accessing the tool calls requested by the model.</li></ul><p>The following how-to guides are good practical resources for using function/tool calling:</p><ul><li><a href="https://python.langchain.com/v0.2/docs/how_to/structured_output/">How to return structured data from an LLM</a></li><li><a href="https://python.langchain.com/v0.2/docs/how_to/tool_calling/">How to use a model to call tools</a></li></ul><p>For a full list of model providers that support tool calling, <a href="https://python.langchain.com/v0.2/docs/integrations/chat/#advanced-features">see this table</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="retrieval">Retrieval<a href="#retrieval" class="hash-link" aria-label="Direct link to Retrieval" title="Direct link to Retrieval">â€‹</a></h3><p>LLMs
 are trained on a large but fixed dataset, limiting their ability to 
reason over private or recent information. Fine-tuning an LLM with 
specific facts is one way to mitigate this, but is often <a href="https://www.anyscale.com/blog/fine-tuning-is-for-form-not-facts" target="_blank" rel="noopener noreferrer">poorly suited for factual recall</a> and <a href="https://www.glean.com/blog/how-to-build-an-ai-assistant-for-the-enterprise" target="_blank" rel="noopener noreferrer">can be costly</a>.
Retrieval is the process of providing relevant information to an LLM to 
improve its response for a given input. Retrieval augmented generation 
(RAG) is the process of grounding the LLM generation (output) using the 
retrieved information.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><ul><li>See our RAG from Scratch <a href="https://github.com/langchain-ai/rag-from-scratch" target="_blank" rel="noopener noreferrer">code</a> and <a href="https://youtube.com/playlist?list=PLfaIDFEXuae2LXbO1_PKyVJiQ23ZztA0x&amp;feature=shared" target="_blank" rel="noopener noreferrer">video series</a>.</li><li>For a high-level guide on retrieval, see this <a href="https://python.langchain.com/v0.2/docs/tutorials/rag/">tutorial on RAG</a>.</li></ul></div></div><p>RAG
 is only as good as the retrieved documentsâ€™ relevance and quality. 
Fortunately, an emerging set of techniques can be employed to design and
 improve RAG systems. We've focused on taxonomizing and summarizing many
 of these techniques (see below figure) and will share some high-level 
strategic guidance in the following sections.
You can and should experiment with using different pieces together. You 
might also find <a href="https://docs.smith.langchain.com/how_to_guides/evaluation/evaluate_llm_application" target="_blank" rel="noopener noreferrer">this LangSmith guide</a> useful for showing how to evaluate different iterations of your app.</p><p><img loading="lazy" src="langchain_files/rag_landscape-627f1d0fd46b92bc2db0af8f99ec3724.png" width="1586" height="1202" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-translation">Query Translation<a href="#query-translation" class="hash-link" aria-label="Direct link to Query Translation" title="Direct link to Query Translation">â€‹</a></h4><p>First,
 consider the user input(s) to your RAG system. Ideally, a RAG system 
can handle a wide range of inputs, from poorly worded questions to 
complex multi-part queries.
<strong>Using an LLM to review and optionally modify the input is the central idea behind query translation.</strong>
 This serves as a general buffer, optimizing raw user inputs for your 
retrieval system.
For example, this can be as simple as extracting keywords or as complex 
as generating multiple sub-questions for a complex query.</p><table><thead><tr><th>Name</th><th>When to use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/MultiQueryRetriever/">Multi-query</a></td><td>When you need to cover multiple perspectives of a question.</td><td>Rewrite
 the user question from multiple perspectives, retrieve documents for 
each rewritten question, return the unique documents for all queries.</td></tr><tr><td><a href="https://github.com/langchain-ai/rag-from-scratch/blob/main/rag_from_scratch_5_to_9.ipynb" target="_blank" rel="noopener noreferrer">Decomposition</a></td><td>When a question can be broken down into smaller subproblems.</td><td>Decompose
 a question into a set of subproblems / questions, which can either be 
solved sequentially (use the answer from first + retrieval to answer the
 second) or in parallel (consolidate each answer into final answer).</td></tr><tr><td><a href="https://github.com/langchain-ai/rag-from-scratch/blob/main/rag_from_scratch_5_to_9.ipynb" target="_blank" rel="noopener noreferrer">Step-back</a></td><td>When a higher-level conceptual understanding is required.</td><td>First
 prompt the LLM to ask a generic step-back question about higher-level 
concepts or principles, and retrieve relevant facts about them. Use this
 grounding to help answer the user question.</td></tr><tr><td><a href="https://github.com/langchain-ai/rag-from-scratch/blob/main/rag_from_scratch_5_to_9.ipynb" target="_blank" rel="noopener noreferrer">HyDE</a></td><td>If you have challenges retrieving relevant documents using the raw user inputs.</td><td>Use
 an LLM to convert questions into hypothetical documents that answer the
 question. Use the embedded hypothetical documents to retrieve real 
documents with the premise that doc-doc similarity search can produce 
more relevant matches.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See our RAG from Scratch videos for a few different specific approaches:</p><ul><li><a href="https://youtu.be/JChPi0CRnDY?feature=shared" target="_blank" rel="noopener noreferrer">Multi-query</a></li><li><a href="https://youtu.be/h0OPWlEOank?feature=shared" target="_blank" rel="noopener noreferrer">Decomposition</a></li><li><a href="https://youtu.be/xn1jEjRyJ2U?feature=shared" target="_blank" rel="noopener noreferrer">Step-back</a></li><li><a href="https://youtu.be/SaDzIVkYqyY?feature=shared" target="_blank" rel="noopener noreferrer">HyDE</a></li></ul></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="routing">Routing<a href="#routing" class="hash-link" aria-label="Direct link to Routing" title="Direct link to Routing">â€‹</a></h4><p>Second,
 consider the data sources available to your RAG system. You want to 
query across more than one database or across structured and 
unstructured data sources. <strong>Using an LLM to review the input and 
route it to the appropriate data source is a simple and effective 
approach for querying across sources.</strong></p><table><thead><tr><th>Name</th><th>When to use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/routing/">Logical routing</a></td><td>When you can prompt an LLM with rules to decide where to route the input.</td><td>Logical routing can use an LLM to reason about the query and choose which datastore is most appropriate.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/routing/#routing-by-semantic-similarity">Semantic routing</a></td><td>When semantic similarity is an effective way to determine where to route the input.</td><td>Semantic
 routing embeds both query and, typically a set of prompts. It then 
chooses the appropriate prompt based upon similarity.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See our RAG from Scratch video on <a href="https://youtu.be/pfpIndq7Fi8?feature=shared" target="_blank" rel="noopener noreferrer">routing</a>.  </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="query-construction">Query Construction<a href="#query-construction" class="hash-link" aria-label="Direct link to Query Construction" title="Direct link to Query Construction">â€‹</a></h4><p>Third,
 consider whether any of your data sources require specific query 
formats. Many structured databases use SQL. Vector stores often have 
specific syntax for applying keyword filters to document metadata. <strong>Using an LLM to convert a natural language query into a query syntax is a popular and powerful approach.</strong>
In particular, <a href="https://python.langchain.com/v0.2/docs/tutorials/sql_qa/">text-to-SQL</a>, <a href="https://python.langchain.com/v0.2/docs/tutorials/graph/">text-to-Cypher</a>, and <a href="https://python.langchain.com/v0.2/docs/tutorials/query_analysis/#query-analysis">query analysis for metadata filters</a> are useful ways to interact with structured, graph, and vector databases respectively. </p><table><thead><tr><th>Name</th><th>When to Use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/tutorials/sql_qa/">Text to SQL</a></td><td>If users are asking questions that require information housed in a relational database, accessible via SQL.</td><td>This uses an LLM to transform user input into a SQL query.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/tutorials/graph/">Text-to-Cypher</a></td><td>If users are asking questions that require information housed in a graph database, accessible via Cypher.</td><td>This uses an LLM to transform user input into a Cypher query.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/self_query/">Self Query</a></td><td>If
 users are asking questions that are better answered by fetching 
documents based on metadata rather than similarity with the text.</td><td>This
 uses an LLM to transform user input into two things: (1) a string to 
look up semantically, (2) a metadata filter to go along with it. This is
 useful because oftentimes questions are about the METADATA of documents
 (not the content itself).</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See our <a href="https://blog.langchain.dev/query-construction/" target="_blank" rel="noopener noreferrer">blog post overview</a> and RAG from Scratch video on <a href="https://youtu.be/kl6NwWYxvbM?feature=shared" target="_blank" rel="noopener noreferrer">query construction</a>,
 the process of text-to-DSL where DSL is a domain specific language 
required to interact with a given database. This converts user questions
 into structured queries. </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="indexing">Indexing<a href="#indexing" class="hash-link" aria-label="Direct link to Indexing" title="Direct link to Indexing">â€‹</a></h4><p>Fouth, consider the design of your document index. A simple and powerful idea is to <strong>decouple the documents that you index for retrieval from the documents that you pass to the LLM for generation.</strong> Indexing frequently uses embedding models with vector stores, which <a href="https://python.langchain.com/v0.2/docs/concepts/#embedding-models">compress the semantic information in documents to fixed-size vectors</a>.</p><p>Many
 RAG approaches focus on splitting documents into chunks and retrieving 
some number based on similarity to an input question for the LLM. But 
chunk size and chunk number can be difficult to set and affect results 
if they do not provide full context for the LLM to answer a question. 
Furthermore, LLMs are increasingly capable of processing millions of 
tokens. </p><p>Two approaches can address this tension: (1) <a href="https://python.langchain.com/v0.2/docs/how_to/multi_vector/">Multi Vector</a>
 retriever using an LLM to translate documents into any form (e.g., 
often into a summary) that is well-suited for indexing, but returns full
 documents to the LLM for generation. (2) <a href="https://python.langchain.com/v0.2/docs/how_to/parent_document_retriever/">ParentDocument</a>
 retriever embeds document chunks, but also returns full documents. The 
idea is to get the best of both worlds: use concise representations 
(summaries or chunks) for retrieval, but use the full documents for 
answer generation.</p><table><thead><tr><th>Name</th><th>Index Type</th><th>Uses an LLM</th><th>When to Use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/vectorstore_retriever/">Vector store</a></td><td>Vector store</td><td>No</td><td>If you are just getting started and looking for something quick and easy.</td><td>This
 is the simplest method and the one that is easiest to get started with.
 It involves creating embeddings for each piece of text.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/parent_document_retriever/">ParentDocument</a></td><td>Vector store + Document Store</td><td>No</td><td>If
 your pages have lots of smaller pieces of distinct information that are
 best indexed by themselves, but best retrieved all together.</td><td>This
 involves indexing multiple chunks for each document. Then you find the 
chunks that are most similar in embedding space, but you retrieve the 
whole parent document and return that (rather than individual chunks).</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/multi_vector/">Multi Vector</a></td><td>Vector store + Document Store</td><td>Sometimes during indexing</td><td>If you are able to extract information from documents that you think is more relevant to index than the text itself.</td><td>This
 involves creating multiple vectors for each document. Each vector could
 be created in a myriad of ways - examples include summaries of the text
 and hypothetical questions.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/time_weighted_vectorstore/">Time-Weighted Vector store</a></td><td>Vector store</td><td>No</td><td>If you have timestamps associated with your documents, and you want to retrieve the most recent ones</td><td>This
 fetches documents based on a combination of semantic similarity (as in 
normal vector retrieval) and recency (looking at timestamps of indexed 
documents)</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><ul><li>See our RAG from Scratch video on <a href="https://youtu.be/bjb_EMsTDKI?feature=shared" target="_blank" rel="noopener noreferrer">indexing fundamentals</a></li><li>See our RAG from Scratch video on <a href="https://youtu.be/gTCU9I6QqCE?feature=shared" target="_blank" rel="noopener noreferrer">multi vector retriever</a></li></ul></div></div><p>Fifth,
 consider ways to improve the quality of your similarity search itself. 
Embedding models compress text into fixed-length (vector) 
representations that capture the semantic content of the document. This 
compression is useful for search / retrieval, but puts a heavy burden on
 that single vector representation to capture the semantic nuance / 
detail of the document. In some cases, irrelevant or redundant content 
can dilute the semantic usefulness of the embedding.</p><p><a href="https://docs.google.com/presentation/d/1IRhAdGjIevrrotdplHNcc4aXgIYyKamUKTWtB3m3aMU/edit?usp=sharing" target="_blank" rel="noopener noreferrer">ColBERT</a>
 is an interesting approach to address this with a higher granularity 
embeddings: (1) produce a contextually influenced embedding for each 
token in the document and query, (2) score similarity between each query
 token and all document tokens, (3) take the max, (4) do this for all 
query tokens, and (5) take the sum of the max scores (in step 3) for all
 query tokens to get a query-document similarity score; this token-wise 
scoring can yield strong results. </p><p><img loading="lazy" src="langchain_files/colbert-0bf5bd7485724d0005a2f5bdadbdaedb.png" width="1236" height="695" class="img_ev3q"></p><p>There
 are some additional tricks to improve the quality of your retrieval. 
Embeddings excel at capturing semantic information, but may struggle 
with keyword-based queries. Many <a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/pinecone_hybrid_search/">vector stores</a> offer built-in <a href="https://docs.pinecone.io/guides/data/understanding-hybrid-search" target="_blank" rel="noopener noreferrer">hybrid-search</a>
 to combine keyword and semantic similarity, which marries the benefits 
of both approaches. Furthermore, many vector stores have <a href="https://python.langchain.com/v0.1/docs/modules/model_io/prompts/example_selectors/mmr/" target="_blank" rel="noopener noreferrer">maximal marginal relevance</a>, which attempts to diversify the results of a search to avoid returning similar and redundant documents. </p><table><thead><tr><th>Name</th><th>When to use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/integrations/providers/ragatouille/#using-colbert-as-a-reranker">ColBERT</a></td><td>When higher granularity embeddings are needed.</td><td>ColBERT
 uses contextually influenced embeddings for each token in the document 
and query to get a granular query-document similarity score.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/pinecone_hybrid_search/">Hybrid search</a></td><td>When combining keyword-based and semantic similarity.</td><td>Hybrid search combines keyword and semantic similarity, marrying the benefits of both approaches.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/integrations/vectorstores/pinecone/#maximal-marginal-relevance-searches">Maximal Marginal Relevance (MMR)</a></td><td>When needing to diversify search results.</td><td>MMR attempts to diversify the results of a search to avoid returning similar and redundant documents.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See our RAG from Scratch video on <a href="https://youtu.be/cN6S0Ehm7_8?feature=shared%3E" target="_blank" rel="noopener noreferrer">ColBERT</a>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="post-processing">Post-processing<a href="#post-processing" class="hash-link" aria-label="Direct link to Post-processing" title="Direct link to Post-processing">â€‹</a></h4><p>Sixth, consider ways to filter or rank retrieved documents. This is very useful if you are <a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/cohere-reranker/#doing-reranking-with-coherererank">combining documents returned from multiple sources</a>, since it can can down-rank less relevant documents and / or <a href="https://python.langchain.com/v0.2/docs/how_to/contextual_compression/#more-built-in-compressors-filters">compress similar documents</a>. </p><table><thead><tr><th>Name</th><th>Index Type</th><th>Uses an LLM</th><th>When to Use</th><th>Description</th></tr></thead><tbody><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/contextual_compression/">Contextual Compression</a></td><td>Any</td><td>Sometimes</td><td>If you are finding that your retrieved documents contain too much irrelevant information and are distracting the LLM.</td><td>This
 puts a post-processing step on top of another retriever and extracts 
only the most relevant information from retrieved documents. This can be
 done with embeddings or an LLM.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/how_to/ensemble_retriever/">Ensemble</a></td><td>Any</td><td>No</td><td>If you have multiple retrieval methods and want to try combining them.</td><td>This fetches documents from multiple retrievers and then combines them.</td></tr><tr><td><a href="https://python.langchain.com/v0.2/docs/integrations/retrievers/cohere-reranker/">Re-ranking</a></td><td>Any</td><td>Yes</td><td>If
 you want to rank retrieved documents based upon relevance, especially 
if you want to combine results from multiple retrieval methods .</td><td>Given a query and a list of documents, Rerank indexes the documents from most to least semantically relevant to the query.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See our RAG from Scratch video on <a href="https://youtu.be/77qELPbNgxA?feature=shared" target="_blank" rel="noopener noreferrer">RAG-Fusion</a>,
 on approach for post-processing across multiple queries:  Rewrite the 
user question from multiple perspectives, retrieve documents for each 
rewritten question, and combine the ranks of multiple search result 
lists to produce a single, unified ranking with <a href="https://towardsdatascience.com/forget-rag-the-future-is-rag-fusion-1147298d8ad1" target="_blank" rel="noopener noreferrer">Reciprocal Rank Fusion (RRF)</a>.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generation">Generation<a href="#generation" class="hash-link" aria-label="Direct link to Generation" title="Direct link to Generation">â€‹</a></h4><p><strong>Finally, consider ways to build self-correction into your RAG system.</strong>
 RAG systems can suffer from low quality retrieval (e.g., if a user 
question is out of the domain for the index) and / or hallucinations in 
generation. A naive retrieve-generate pipeline has no ability to detect 
or self-correct from these kinds of errors. The concept of <a href="https://x.com/karpathy/status/1748043513156272416" target="_blank" rel="noopener noreferrer">"flow engineering"</a> has been introduced <a href="https://arxiv.org/abs/2401.08500" target="_blank" rel="noopener noreferrer">in the context of code generation</a>:
 iteratively build an answer to a code question with unit tests to check
 and self-correct errors. Several works have applied this RAG, such as 
Self-RAG and Corrective-RAG. In both cases, checks for document 
relevance, hallucinations, and / or answer quality are performed in the 
RAG answer generation flow.</p><p>We've found that graphs are a great 
way to reliably express logical flows and have implemented ideas from 
several of these papers <a href="https://github.com/langchain-ai/langgraph/tree/main/examples/rag" target="_blank" rel="noopener noreferrer">using LangGraph</a>, as shown in the figure below (red - routing, blue - fallback, green - self-correction):</p><ul><li><strong>Routing:</strong> Adaptive RAG (<a href="https://arxiv.org/abs/2403.14403" target="_blank" rel="noopener noreferrer">paper</a>). Route questions to different retrieval approaches, as discussed above </li><li><strong>Fallback:</strong> Corrective RAG (<a href="https://arxiv.org/pdf/2401.15884.pdf" target="_blank" rel="noopener noreferrer">paper</a>). Fallback to web search if docs are not relevant to query</li><li><strong>Self-correction:</strong> Self-RAG (<a href="https://arxiv.org/abs/2310.11511" target="_blank" rel="noopener noreferrer">paper</a>). Fix answers w/ hallucinations or donâ€™t address question</li></ul><p><img loading="lazy" src="langchain_files/langgraph_rag-f039b41ef268bf46783706e58726fd9c.png" width="1721" height="510" class="img_ev3q"></p><table><thead><tr><th>Name</th><th>When to use</th><th>Description</th></tr></thead><tbody><tr><td>Self-RAG</td><td>When needing to fix answers with hallucinations or irrelevant content.</td><td>Self-
RAG performs checks for document relevance, hallucinations, and answer 
quality during the RAG answer generation flow, iteratively building an 
answer and self-correcting errors.</td></tr><tr><td>Corrective-RAG</td><td>When needing a fallback mechanism for low relevance docs.</td><td>Corrective-
RAG includes a fallback (e.g., to web search) if the retrieved documents
 are not relevant to the query, ensuring higher quality and more 
relevant retrieval.</td></tr></tbody></table><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>See several videos and cookbooks showcasing RAG with LangGraph: </p><ul><li><a href="https://www.youtube.com/watch?v=E2shqsYwxck" target="_blank" rel="noopener noreferrer">LangGraph Corrective RAG</a></li><li><a href="https://www.youtube.com/watch?v=-ROS6gfYIts" target="_blank" rel="noopener noreferrer">LangGraph combining Adaptive, Self-RAG, and Corrective RAG</a> </li><li><a href="https://github.com/langchain-ai/langgraph/tree/main/examples/rag" target="_blank" rel="noopener noreferrer">Cookbooks for RAG using LangGraph</a></li></ul><p>See our LangGraph RAG recipes with partners:</p><ul><li><a href="https://github.com/meta-llama/llama-recipes/tree/main/recipes/3p_integrations/langchain" target="_blank" rel="noopener noreferrer">Meta</a></li><li><a href="https://github.com/mistralai/cookbook/tree/main/third_party/langchain" target="_blank" rel="noopener noreferrer">Mistral</a></li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="text-splitting">Text splitting<a href="#text-splitting" class="hash-link" aria-label="Direct link to Text splitting" title="Direct link to Text splitting">â€‹</a></h3><p>LangChain offers many different types of <code>text splitters</code>.
These all live in the <code>langchain-text-splitters</code> package.</p><p>Table columns:</p><ul><li><strong>Name</strong>: Name of the text splitter</li><li><strong>Classes</strong>: Classes that implement this text splitter</li><li><strong>Splits On</strong>: How this text splitter splits text</li><li><strong>Adds Metadata</strong>: Whether or not this text splitter adds metadata about where each chunk came from.</li><li><strong>Description</strong>: Description of the splitter, including recommendation on when to use it.</li></ul><table><thead><tr><th>Name</th><th>Classes</th><th>Splits On</th><th>Adds Metadata</th><th>Description</th></tr></thead><tbody><tr><td>Recursive</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/recursive_text_splitter/">RecursiveCharacterTextSplitter</a>, <a href="https://python.langchain.com/v0.2/docs/how_to/recursive_json_splitter/">RecursiveJsonSplitter</a></td><td>A list of user defined characters</td><td></td><td>Recursively splits text. This splitting is trying to keep related pieces of text next to each other. This is the <code>recommended way</code> to start splitting text.</td></tr><tr><td>HTML</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/HTML_header_metadata_splitter/">HTMLHeaderTextSplitter</a>, <a href="https://python.langchain.com/v0.2/docs/how_to/HTML_section_aware_splitter/">HTMLSectionSplitter</a></td><td>HTML specific characters</td><td>âœ…</td><td>Splits
 text based on HTML-specific characters. Notably, this adds in relevant 
information about where that chunk came from (based on the HTML)</td></tr><tr><td>Markdown</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/markdown_header_metadata_splitter/">MarkdownHeaderTextSplitter</a>,</td><td>Markdown specific characters</td><td>âœ…</td><td>Splits
 text based on Markdown-specific characters. Notably, this adds in 
relevant information about where that chunk came from (based on the 
Markdown)</td></tr><tr><td>Code</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/code_splitter/">many languages</a></td><td>Code (Python, JS) specific characters</td><td></td><td>Splits text based on characters specific to coding languages. 15 different languages are available to choose from.</td></tr><tr><td>Token</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/split_by_token/">many classes</a></td><td>Tokens</td><td></td><td>Splits text on tokens. There exist a few different ways to measure tokens.</td></tr><tr><td>Character</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/character_text_splitter/">CharacterTextSplitter</a></td><td>A user defined character</td><td></td><td>Splits text based on a user defined character. One of the simpler methods.</td></tr><tr><td>Semantic Chunker (Experimental)</td><td><a href="https://python.langchain.com/v0.2/docs/how_to/semantic-chunker/">SemanticChunker</a></td><td>Sentences</td><td></td><td>First splits on sentences. Then combines ones next to each other if they are semantically similar enough. Taken from <a href="https://github.com/FullStackRetrieval-com/RetrievalTutorials/blob/main/tutorials/LevelsOfTextSplitting/5_Levels_Of_Text_Splitting.ipynb" target="_blank" rel="noopener noreferrer">Greg Kamradt</a></td></tr><tr><td>Integration: AI21 Semantic</td><td><a href="https://python.langchain.com/v0.2/docs/integrations/document_transformers/ai21_semantic_text_splitter/">AI21SemanticTextSplitter</a></td><td>âœ…</td><td>Identifies distinct topics that form coherent pieces of text and splits along those.</td><td></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="evaluation">Evaluation<a href="#evaluation" class="hash-link" aria-label="Direct link to Evaluation" title="Direct link to Evaluation">â€‹</a></h3><span data-heading-keywords="evaluation,evaluate"></span><p>Evaluation
 is the process of assessing the performance and effectiveness of your 
LLM-powered applications.
It involves testing the model's responses against a set of predefined 
criteria or benchmarks to ensure it meets the desired quality standards 
and fulfills the intended purpose.
This process is vital for building reliable applications.</p><p><img loading="lazy" src="langchain_files/langsmith_evaluate-7d48643f3e4c50d77234e13feb95144d.png" width="887" height="421" class="img_ev3q"></p><p><a href="https://docs.smith.langchain.com/" target="_blank" rel="noopener noreferrer">LangSmith</a> helps with this process in a few ways:</p><ul><li>It makes it easier to create and curate datasets via its tracing and annotation features</li><li>It provides an evaluation framework that helps you define metrics and run your app against your dataset</li><li>It allows you to track results over time and automatically run your evaluators on a schedule or as part of CI/Code</li></ul><p>To learn more, check out <a href="https://docs.smith.langchain.com/concepts/evaluation" target="_blank" rel="noopener noreferrer">this LangSmith guide</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tracing">Tracing<a href="#tracing" class="hash-link" aria-label="Direct link to Tracing" title="Direct link to Tracing">â€‹</a></h3><span data-heading-keywords="trace,tracing"></span><p>A trace is essentially a series of steps that your application takes to go from input to output.
Traces contain individual steps called <code>runs</code>. These can be individual calls from a model, retriever,
tool, or sub-chains.
Tracing gives you observability inside your chains and agents, and is vital in diagnosing issues.</p><p>For a deeper dive, check out <a href="https://docs.smith.langchain.com/concepts/tracing" target="_blank" rel="noopener noreferrer">this LangSmith conceptual guide</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/langchain-ai/langchain/edit/master/docs/docs/concepts.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><div style="display: flex; flex-direction: column;"><hr><h4>Was this page helpful?</h4><div style="display: flex; gap: 5px;"><div style="display: flex; align-items: center; padding: 10px 22px; border: 1px solid gray; border-radius: 6px; gap: 10px; cursor: pointer; font-size: 16px; font-weight: 600;" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#166534" style="width: 24px; height: 24px;"><path stroke-linecap="round" stroke-linejoin="round" d="M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"></path></svg></div><div style="display: flex; align-items: center; padding: 10px 22px; border: 1px solid gray; border-radius: 6px; gap: 10px; cursor: pointer; font-size: 16px; font-weight: 600;" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#991b1b" style="width: 24px; height: 24px;"><path stroke-linecap="round" stroke-linejoin="round" d="M7.498 15.25H4.372c-1.026 0-1.945-.694-2.054-1.715a12.137 12.137 0 0 1-.068-1.285c0-2.848.992-5.464 2.649-7.521C5.287 4.247 5.886 4 6.504 4h4.016a4.5 4.5 0 0 1 1.423.23l3.114 1.04a4.5 4.5 0 0 0 1.423.23h1.294M7.498 15.25c.618 0 .991.724.725 1.282A7.471 7.471 0 0 0 7.5 19.75 2.25 2.25 0 0 0 9.75 22a.75.75 0 0 0 .75-.75v-.633c0-.573.11-1.14.322-1.672.304-.76.93-1.33 1.653-1.715a9.04 9.04 0 0 0 2.86-2.4c.498-.634 1.226-1.08 2.032-1.08h.384m-10.253 1.5H9.7m8.075-9.75c.01.05.027.1.05.148.593 1.2.925 2.55.925 3.977 0 1.487-.36 2.89-.999 4.125m.023-8.25c-.076-.365.183-.75.575-.75h.908c.889 0 1.713.518 1.972 1.368.339 1.11.521 2.287.521 3.507 0 1.553-.295 3.036-.831 4.398-.306.774-1.086 1.227-1.918 1.227h-1.053c-.472 0-.745-.556-.5-.96a8.95 8.95 0 0 0 .303-.54"></path></svg></div></div><br><h4>You can also leave detailed feedback <a target="_blank" href="https://github.com/langchain-ai/langchain/issues/new?assignees=&amp;labels=03+-+Documentation&amp;projects=&amp;template=documentation.yml&amp;title=DOC%3A+%3CIssue+related+to+/v0.2/docs/concepts/%3E&amp;url=https://python.langchain.com/v0.2/docs/concepts/">on GitHub</a>.</h4></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="https://python.langchain.com/v0.2/docs/how_to/vectorstores/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">How to create and query vector stores</div></a><a class="pagination-nav__link pagination-nav__link--next" href="https://python.langchain.com/v0.2/docs/versions/overview/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a><ul><li><a href="#langchain-core" class="table-of-contents__link toc-highlight"><code>langchain-core</code></a></li><li><a href="#partner-packages" class="table-of-contents__link toc-highlight">Partner packages</a></li><li><a href="#langchain" class="table-of-contents__link toc-highlight"><code>langchain</code></a></li><li><a href="#langchain-community" class="table-of-contents__link toc-highlight"><code>langchain-community</code></a></li><li><a href="#langgraph" class="table-of-contents__link toc-highlight"><code>langgraph</code></a></li><li><a href="#langserve" class="table-of-contents__link toc-highlight"><code>langserve</code></a></li><li><a href="#langsmith" class="table-of-contents__link toc-highlight">LangSmith</a></li></ul></li><li><a href="#langchain-expression-language-lcel" class="table-of-contents__link toc-highlight">LangChain Expression Language (LCEL)</a><ul><li><a href="#runnable-interface" class="table-of-contents__link toc-highlight">Runnable interface</a></li></ul></li><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a><ul><li><a href="#chat-models" class="table-of-contents__link toc-highlight">Chat models</a></li><li><a href="#llms" class="table-of-contents__link toc-highlight table-of-contents__link--active">LLMs</a></li><li><a href="#messages" class="table-of-contents__link toc-highlight">Messages</a></li><li><a href="#prompt-templates" class="table-of-contents__link toc-highlight">Prompt templates</a></li><li><a href="#example-selectors" class="table-of-contents__link toc-highlight">Example selectors</a></li><li><a href="#output-parsers" class="table-of-contents__link toc-highlight">Output parsers</a></li><li><a href="#chat-history" class="table-of-contents__link toc-highlight">Chat history</a></li><li><a href="#documents" class="table-of-contents__link toc-highlight">Documents</a></li><li><a href="#document-loaders" class="table-of-contents__link toc-highlight">Document loaders</a></li><li><a href="#text-splitters" class="table-of-contents__link toc-highlight">Text splitters</a></li><li><a href="#embedding-models" class="table-of-contents__link toc-highlight">Embedding models</a></li><li><a href="#vector-stores" class="table-of-contents__link toc-highlight">Vector stores</a></li><li><a href="#retrievers" class="table-of-contents__link toc-highlight">Retrievers</a></li><li><a href="#tools" class="table-of-contents__link toc-highlight">Tools</a></li><li><a href="#toolkits" class="table-of-contents__link toc-highlight">Toolkits</a></li><li><a href="#agents" class="table-of-contents__link toc-highlight">Agents</a></li><li><a href="#callbacks" class="table-of-contents__link toc-highlight">Callbacks</a></li></ul></li><li><a href="#techniques" class="table-of-contents__link toc-highlight">Techniques</a><ul><li><a href="#streaming" class="table-of-contents__link toc-highlight">Streaming</a></li><li><a href="#structured-output" class="table-of-contents__link toc-highlight">Structured output</a></li><li><a href="#retrieval" class="table-of-contents__link toc-highlight">Retrieval</a></li><li><a href="#text-splitting" class="table-of-contents__link toc-highlight">Text splitting</a></li><li><a href="#evaluation" class="table-of-contents__link toc-highlight">Evaluation</a></li><li><a href="#tracing" class="table-of-contents__link toc-highlight">Tracing</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/cU2adEyC7w" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/LangChainAI" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/langchain-ai" target="_blank" rel="noopener noreferrer" class="footer__link-item">Organization<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/langchain-ai/langchain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Python<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/langchain-ai/langchainjs" target="_blank" rel="noopener noreferrer" class="footer__link-item">JS/TS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://langchain.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Homepage<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://blog.langchain.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@LangChain" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2024 LangChain, Inc.</div></div></div></footer></div>
<script src="langchain_files/runtime~main.752f3e4d.js"></script>
<script src="langchain_files/main.f55529a1.js"></script>

</body></html>